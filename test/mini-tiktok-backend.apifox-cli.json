{"apifoxCli":"1.1.0","item":[{"item":[{"id":"486c4758-690a-4bd3-9a73-18223c00ea46","name":"用户登录(失败)","request":{"url":{"protocol":"http","port":"8080","path":["douyin","user","login"],"host":["182","92","189","35"],"query":[{"disabled":false,"key":"username","value":"{% mock 'word' %}"},{"disabled":false,"key":"password","value":"{% mock 'word' %}"}],"variable":[]},"header":[{"key":"User-Agent","value":"Apifox/1.0.0 (https://www.apifox.cn)"}],"method":"POST","baseUrl":"http://182.92.189.35:8080","body":{},"type":"http"},"response":[],"event":[],"responseDefinition":{"id":156865650,"createdAt":"2023-02-09T13:37:28.000Z","updatedAt":"2023-02-09T14:24:25.000Z","deletedAt":null,"apiDetailId":61464658,"name":"成功","code":200,"contentType":"json","jsonSchema":{"type":"object","properties":{"status_code":{"type":"integer"},"status_msg":{"type":"string"}},"x-apifox-orders":["status_code","status_msg"],"x-apifox-refs":{},"required":["status_code","status_msg"]},"defaultEnable":true,"projectId":2274475,"ordering":1,"schemaDefinitions":{}},"requestDefinition":{"jsonSchema":{}},"metaInfo":{"httpApiId":61464658,"httpApiCaseId":69954957,"httpApiName":"用户登录","httpApiPath":"/douyin/user/login","httpApiMethod":"post","httpApiCaseName":"失败","id":"ac81bf3e-84dc-4cdb-9d2f-3f47593da54f","type":"http"},"type":"http","protocolProfileBehavior":{"useWhatWGUrlParser":false,"disableUrlEncoding":false}},{"id":"3b3f598f-4e4d-41bf-b5e4-359e8d631855","name":"用户注册(注册test用户)","request":{"url":{"protocol":"http","port":"8080","path":["douyin","user","register"],"host":["182","92","189","35"],"query":[{"disabled":false,"key":"username","value":"test"},{"disabled":false,"key":"password","value":"test"}],"variable":[]},"header":[{"key":"User-Agent","value":"Apifox/1.0.0 (https://www.apifox.cn)"}],"method":"POST","baseUrl":"http://182.92.189.35:8080","body":{},"type":"http"},"response":[],"event":[],"responseDefinition":{"id":156865613,"createdAt":"2023-02-09T13:36:06.000Z","updatedAt":"2023-02-09T14:37:10.000Z","deletedAt":null,"apiDetailId":61464637,"name":"成功","code":200,"contentType":"json","jsonSchema":{"type":"object","properties":{"status_code":{"type":"integer"},"status_msg":{"type":"string"}},"x-apifox-orders":["status_code","status_msg"],"x-apifox-refs":{},"required":["status_code","status_msg"]},"defaultEnable":true,"projectId":2274475,"ordering":1,"schemaDefinitions":{}},"requestDefinition":{"jsonSchema":{}},"metaInfo":{"httpApiId":61464637,"httpApiCaseId":69957051,"httpApiName":"用户注册","httpApiPath":"/douyin/user/register","httpApiMethod":"post","httpApiCaseName":"注册test用户","id":"8e343831-eab0-40c8-af10-874128accd5e","type":"http"},"type":"http","protocolProfileBehavior":{"useWhatWGUrlParser":false,"disableUrlEncoding":false}},{"id":"2de86af9-94e7-4191-bd0b-1eccf70db622","name":"用户注册(test用户已存在)","request":{"url":{"protocol":"http","port":"8080","path":["douyin","user","register"],"host":["182","92","189","35"],"query":[{"disabled":false,"key":"username","value":"test"},{"disabled":false,"key":"password","value":"test"}],"variable":[]},"header":[{"key":"User-Agent","value":"Apifox/1.0.0 (https://www.apifox.cn)"}],"method":"POST","baseUrl":"http://182.92.189.35:8080","body":{},"type":"http"},"response":[],"event":[],"responseDefinition":{"id":156865613,"createdAt":"2023-02-09T13:36:06.000Z","updatedAt":"2023-02-09T14:37:10.000Z","deletedAt":null,"apiDetailId":61464637,"name":"成功","code":200,"contentType":"json","jsonSchema":{"type":"object","properties":{"status_code":{"type":"integer"},"status_msg":{"type":"string"}},"x-apifox-orders":["status_code","status_msg"],"x-apifox-refs":{},"required":["status_code","status_msg"]},"defaultEnable":true,"projectId":2274475,"ordering":1,"schemaDefinitions":{}},"requestDefinition":{"jsonSchema":{}},"metaInfo":{"httpApiId":61464637,"httpApiCaseId":69955263,"httpApiName":"用户注册","httpApiPath":"/douyin/user/register","httpApiMethod":"post","httpApiCaseName":"test用户已存在","id":"6a9e9eff-7f9e-4fad-b225-1a38a5c1ad3e","type":"http"},"type":"http","protocolProfileBehavior":{"useWhatWGUrlParser":false,"disableUrlEncoding":false}},{"id":"920adf8a-98e8-4c2f-9690-bb6ae2a1d71a","name":"用户注册(随机用户注册成功)","request":{"url":{"protocol":"http","port":"8080","path":["douyin","user","register"],"host":["182","92","189","35"],"query":[{"disabled":false,"key":"username","value":"{% mock 'word' , 1 , 32 %}"},{"disabled":false,"key":"password","value":"{% mock 'word' , 1 , 32 %}"}],"variable":[]},"header":[{"key":"User-Agent","value":"Apifox/1.0.0 (https://www.apifox.cn)"}],"method":"POST","baseUrl":"http://182.92.189.35:8080","body":{},"type":"http"},"response":[],"event":[{"listen":"prerequest","script":{"id":"commonScript.assertion","type":"text/javascript","exec":["","  ____string2Array = function(value) {","    if(typeof value === 'object'){","      return value;","    }","    try {","      return JSON.parse(value);","    } catch (e) {","      return value;","    }","  }","  ____string2Number = function(value, errorMsg) {","   if(typeof value !== 'string'){","     return value;","   }","   if (/^\\-?\\d+$/.test(value)) {","       return parseInt(value);","   } else if (/^\\-?\\d+\\.\\d+$/.test(value)) {","       return parseFloat(value);","   } else {","       throw new Error(errorMsg || '数据类型不匹配')","   }"," }","","  ____formatValues = function(value, stringCompareValue, comparison) {","   try{","     const isNumberComparisons = ['isBelow', 'isAtMost', 'isAbove', 'isAtLeast'].includes(comparison);","     const isCollectionComparisons = ['isOneOf', 'notOneOf'].includes(comparison);","     let compareValue;","     switch (typeof value) {","         case 'string':","             if (isNumberComparisons) {","                 value = ____string2Number(value);","                 compareValue = ____string2Number(stringCompareValue);","             } else if (isCollectionComparisons) {","              compareValue = ____string2Array(stringCompareValue);","             }","              else {","                 compareValue = stringCompareValue;","             }","             break;","         case 'object':","             const isArray = value instanceof Array;","             if (isNumberComparisons) {","                 throw new Error('object 类型的值不能使用 ' + comparison + ' 方式比较')","             } else if (isCollectionComparisons && isArray) {","              throw new Error('array 类型的值不能使用 ' + comparison + ' 方式比较')","            } else if (","              isArray &&","              comparison === 'include' &&","              value.includes(stringCompareValue)","            ) {","              compareValue = stringCompareValue;","            } else {","              try {","                  compareValue = JSON.parse(stringCompareValue);","              } catch (e) {","                  compareValue = stringCompareValue;","              }","            }","             break;","         case 'boolean':","             if (isNumberComparisons || isCollectionComparisons) {","                 throw new Error('boolean 类型的值不能使用 ' + comparison + ' 方式比较')","             }","             compareValue = stringCompareValue === 'true' ? true : (stringCompareValue === 'false' ? false : stringCompareValue);","             break;","           case 'bigint':","           case 'number':","             if (isNumberComparisons) {","               compareValue = ____string2Number(stringCompareValue);","             } else if (isCollectionComparisons) {","              compareValue = ____string2Array(stringCompareValue);","              value = '' + value;","            } else {","               compareValue = stringCompareValue;","               value = '' + value;","             }","             break;","         case 'null':","             if (isNumberComparisons) {","                 throw new Error('null 类型的值不能使用 ' + comparison + ' 方式比较')","             }","             compareValue = stringCompareValue === 'null' ? null : stringCompareValue;","             break;","         default:","            if (isCollectionComparisons) {","              compareValue = ____string2Array(stringCompareValue);","            } else {","              compareValue = stringCompareValue;","            }","            break;","     }","     return { compareValue, value };","   } catch(e) {","     console.log(e);","     throw e;","   }"," }"," "]}},{"listen":"test","script":{"id":"postProcessors.0.customScript","type":"text/javascript","exec":["","        if (JSON.setEnableBigInt) {","          JSON.setEnableBigInt(undefined);","        }","        var queryParams = pm.request.url.query;","var username = queryParams.get(\"username\");","var password = queryParams.get(\"password\");","pm.environment.set(\"username\", username);","pm.environment.set(\"password\", password);","      "]}},{"listen":"test","script":{"id":"postProcessors.1.assertion","type":"text/javascript","exec":["","        if (JSON.setEnableBigInt) {","          JSON.setEnableBigInt(undefined);","        }","        pm.test(pm.variables.replaceIn(`$.status_code 等于 0`), function() {","        ","          const expression = pm.variables.replaceIn(`$.status_code`);","          const JSONPath = require('jsonpath-plus').JSONPath;","          let jsonData;","          try {","            jsonData = pm.response.json();","          } catch(e) {","            let text = pm.response.text();","            const xml2js = require('xml2js');","            text = text.replace(/^[^<]*/, '').replace(/[^>]*$/, '');","            let json;","            let xmlParseOptions = {","                explicitArray: false,","                trim: true,","                ignoreAttrs: true,","            };","            xml2js.parseString(text, xmlParseOptions, function (_, result) {","                jsonData = result;","            });","          }","          let value = JSONPath({","            json: jsonData,","            path: expression,","            wrap: false","          });","","          if (false && undefined !== undefined) {","            if (Array.isArray(value)) {","              value = Number(undefined) >= 0 ? value[undefined] : value[value.length + Number(undefined)];","            } else {","              value = undefined;","            }","          }","","          ","        const formattedValues = ____formatValues(value, pm.variables.replaceIn(`0`), 'equal');","        pm.expect(formattedValues.value).to.eql(formattedValues.compareValue);","      });","      "]}}],"responseDefinition":{"id":156865613,"createdAt":"2023-02-09T13:36:06.000Z","updatedAt":"2023-02-09T14:37:10.000Z","deletedAt":null,"apiDetailId":61464637,"name":"成功","code":200,"contentType":"json","jsonSchema":{"type":"object","properties":{"status_code":{"type":"integer"},"status_msg":{"type":"string"}},"x-apifox-orders":["status_code","status_msg"],"x-apifox-refs":{},"required":["status_code","status_msg"]},"defaultEnable":true,"projectId":2274475,"ordering":1,"schemaDefinitions":{}},"requestDefinition":{"jsonSchema":{}},"metaInfo":{"httpApiId":61464637,"httpApiCaseId":69954309,"httpApiName":"用户注册","httpApiPath":"/douyin/user/register","httpApiMethod":"post","httpApiCaseName":"随机用户注册成功","id":"dc218b3c-658a-43cb-9375-7402d6f262a8","type":"http"},"type":"http","protocolProfileBehavior":{"useWhatWGUrlParser":false,"disableUrlEncoding":false}},{"id":"e386881d-07e4-46a8-af32-07cc590da428","name":"用户登录(成功)","request":{"url":{"protocol":"http","port":"8080","path":["douyin","user","login"],"host":["182","92","189","35"],"query":[{"disabled":false,"key":"username","value":"{{username}}"},{"disabled":false,"key":"password","value":"{{password}}"}],"variable":[]},"header":[{"key":"User-Agent","value":"Apifox/1.0.0 (https://www.apifox.cn)"}],"method":"POST","baseUrl":"http://182.92.189.35:8080","body":{},"type":"http"},"response":[],"event":[{"listen":"prerequest","script":{"id":"commonScript.assertion","type":"text/javascript","exec":["","  ____string2Array = function(value) {","    if(typeof value === 'object'){","      return value;","    }","    try {","      return JSON.parse(value);","    } catch (e) {","      return value;","    }","  }","  ____string2Number = function(value, errorMsg) {","   if(typeof value !== 'string'){","     return value;","   }","   if (/^\\-?\\d+$/.test(value)) {","       return parseInt(value);","   } else if (/^\\-?\\d+\\.\\d+$/.test(value)) {","       return parseFloat(value);","   } else {","       throw new Error(errorMsg || '数据类型不匹配')","   }"," }","","  ____formatValues = function(value, stringCompareValue, comparison) {","   try{","     const isNumberComparisons = ['isBelow', 'isAtMost', 'isAbove', 'isAtLeast'].includes(comparison);","     const isCollectionComparisons = ['isOneOf', 'notOneOf'].includes(comparison);","     let compareValue;","     switch (typeof value) {","         case 'string':","             if (isNumberComparisons) {","                 value = ____string2Number(value);","                 compareValue = ____string2Number(stringCompareValue);","             } else if (isCollectionComparisons) {","              compareValue = ____string2Array(stringCompareValue);","             }","              else {","                 compareValue = stringCompareValue;","             }","             break;","         case 'object':","             const isArray = value instanceof Array;","             if (isNumberComparisons) {","                 throw new Error('object 类型的值不能使用 ' + comparison + ' 方式比较')","             } else if (isCollectionComparisons && isArray) {","              throw new Error('array 类型的值不能使用 ' + comparison + ' 方式比较')","            } else if (","              isArray &&","              comparison === 'include' &&","              value.includes(stringCompareValue)","            ) {","              compareValue = stringCompareValue;","            } else {","              try {","                  compareValue = JSON.parse(stringCompareValue);","              } catch (e) {","                  compareValue = stringCompareValue;","              }","            }","             break;","         case 'boolean':","             if (isNumberComparisons || isCollectionComparisons) {","                 throw new Error('boolean 类型的值不能使用 ' + comparison + ' 方式比较')","             }","             compareValue = stringCompareValue === 'true' ? true : (stringCompareValue === 'false' ? false : stringCompareValue);","             break;","           case 'bigint':","           case 'number':","             if (isNumberComparisons) {","               compareValue = ____string2Number(stringCompareValue);","             } else if (isCollectionComparisons) {","              compareValue = ____string2Array(stringCompareValue);","              value = '' + value;","            } else {","               compareValue = stringCompareValue;","               value = '' + value;","             }","             break;","         case 'null':","             if (isNumberComparisons) {","                 throw new Error('null 类型的值不能使用 ' + comparison + ' 方式比较')","             }","             compareValue = stringCompareValue === 'null' ? null : stringCompareValue;","             break;","         default:","            if (isCollectionComparisons) {","              compareValue = ____string2Array(stringCompareValue);","            } else {","              compareValue = stringCompareValue;","            }","            break;","     }","     return { compareValue, value };","   } catch(e) {","     console.log(e);","     throw e;","   }"," }"," "]}},{"listen":"test","script":{"id":"postProcessors.0.extractor","type":"text/javascript","exec":["","        if (JSON.setEnableBigInt) {","          JSON.setEnableBigInt(undefined);","        }","        ","      try{","        ","          const expression = pm.variables.replaceIn(`$.token`);","          const JSONPath = require('jsonpath-plus').JSONPath;","          const jsonData = pm.response.json();","          let value = JSONPath({","            json: jsonData,","            path: expression,","            wrap: false","          });","","          ","          if (false && undefined !== undefined) {","            if (Array.isArray(value)) {","              value = Number(undefined) >= 0 ? value[undefined] : value[value.length + Number(undefined)];","            } else {","              value = undefined;","            }","          }","          ","        ","        switch (typeof value) {","          case 'object':","            value = JSON.stringify(value);","            break;","          default:","            value = String(value);","            break;","        }","      ","        pm.environment.set(`token`, value);console.log('已设置环境变量【token】，值为 【' + value + '】')","      } catch(e) {","        e.message = '提取变量【token】出错: ' + e.message;","        throw e;","      }","  ","      "]}},{"listen":"test","script":{"id":"postProcessors.1.extractor","type":"text/javascript","exec":["","        if (JSON.setEnableBigInt) {","          JSON.setEnableBigInt(undefined);","        }","        ","      try{","        ","          const expression = pm.variables.replaceIn(`$.user_id`);","          const JSONPath = require('jsonpath-plus').JSONPath;","          const jsonData = pm.response.json();","          let value = JSONPath({","            json: jsonData,","            path: expression,","            wrap: false","          });","","          ","          if (false && undefined !== undefined) {","            if (Array.isArray(value)) {","              value = Number(undefined) >= 0 ? value[undefined] : value[value.length + Number(undefined)];","            } else {","              value = undefined;","            }","          }","          ","        ","        switch (typeof value) {","          case 'object':","            value = JSON.stringify(value);","            break;","          default:","            value = String(value);","            break;","        }","      ","        pm.environment.set(`user_id`, value);console.log('已设置环境变量【user_id】，值为 【' + value + '】')","      } catch(e) {","        e.message = '提取变量【user_id】出错: ' + e.message;","        throw e;","      }","  ","      "]}},{"listen":"test","script":{"id":"postProcessors.2.assertion","type":"text/javascript","exec":["","        if (JSON.setEnableBigInt) {","          JSON.setEnableBigInt(undefined);","        }","        pm.test(pm.variables.replaceIn(`$.status_code 等于 0`), function() {","        ","          const expression = pm.variables.replaceIn(`$.status_code`);","          const JSONPath = require('jsonpath-plus').JSONPath;","          let jsonData;","          try {","            jsonData = pm.response.json();","          } catch(e) {","            let text = pm.response.text();","            const xml2js = require('xml2js');","            text = text.replace(/^[^<]*/, '').replace(/[^>]*$/, '');","            let json;","            let xmlParseOptions = {","                explicitArray: false,","                trim: true,","                ignoreAttrs: true,","            };","            xml2js.parseString(text, xmlParseOptions, function (_, result) {","                jsonData = result;","            });","          }","          let value = JSONPath({","            json: jsonData,","            path: expression,","            wrap: false","          });","","          if (false && undefined !== undefined) {","            if (Array.isArray(value)) {","              value = Number(undefined) >= 0 ? value[undefined] : value[value.length + Number(undefined)];","            } else {","              value = undefined;","            }","          }","","          ","        const formattedValues = ____formatValues(value, pm.variables.replaceIn(`0`), 'equal');","        pm.expect(formattedValues.value).to.eql(formattedValues.compareValue);","      });","      "]}}],"responseDefinition":{"id":156865650,"createdAt":"2023-02-09T13:37:28.000Z","updatedAt":"2023-02-09T14:24:25.000Z","deletedAt":null,"apiDetailId":61464658,"name":"成功","code":200,"contentType":"json","jsonSchema":{"type":"object","properties":{"status_code":{"type":"integer"},"status_msg":{"type":"string"}},"x-apifox-orders":["status_code","status_msg"],"x-apifox-refs":{},"required":["status_code","status_msg"]},"defaultEnable":true,"projectId":2274475,"ordering":1,"schemaDefinitions":{}},"requestDefinition":{"jsonSchema":{}},"metaInfo":{"httpApiId":61464658,"httpApiCaseId":69954254,"httpApiName":"用户登录","httpApiPath":"/douyin/user/login","httpApiMethod":"post","httpApiCaseName":"成功","id":"ee775e8d-cbbc-416b-aa55-4a58b08aacba","type":"http"},"type":"http","protocolProfileBehavior":{"useWhatWGUrlParser":false,"disableUrlEncoding":false}},{"id":"e0bf43cd-3ed0-4ade-9cbb-031e1e996f26","name":"用户信息(成功)","request":{"url":{"protocol":"http","port":"8080","path":["douyin","user"],"host":["182","92","189","35"],"query":[{"disabled":false,"key":"user_id","value":"{{user_id}}"},{"disabled":false,"key":"token","value":"{{token}}"}],"variable":[]},"header":[{"key":"User-Agent","value":"Apifox/1.0.0 (https://www.apifox.cn)"}],"method":"GET","baseUrl":"http://182.92.189.35:8080","body":{},"type":"http"},"response":[],"event":[{"listen":"prerequest","script":{"id":"commonScript.assertion","type":"text/javascript","exec":["","  ____string2Array = function(value) {","    if(typeof value === 'object'){","      return value;","    }","    try {","      return JSON.parse(value);","    } catch (e) {","      return value;","    }","  }","  ____string2Number = function(value, errorMsg) {","   if(typeof value !== 'string'){","     return value;","   }","   if (/^\\-?\\d+$/.test(value)) {","       return parseInt(value);","   } else if (/^\\-?\\d+\\.\\d+$/.test(value)) {","       return parseFloat(value);","   } else {","       throw new Error(errorMsg || '数据类型不匹配')","   }"," }","","  ____formatValues = function(value, stringCompareValue, comparison) {","   try{","     const isNumberComparisons = ['isBelow', 'isAtMost', 'isAbove', 'isAtLeast'].includes(comparison);","     const isCollectionComparisons = ['isOneOf', 'notOneOf'].includes(comparison);","     let compareValue;","     switch (typeof value) {","         case 'string':","             if (isNumberComparisons) {","                 value = ____string2Number(value);","                 compareValue = ____string2Number(stringCompareValue);","             } else if (isCollectionComparisons) {","              compareValue = ____string2Array(stringCompareValue);","             }","              else {","                 compareValue = stringCompareValue;","             }","             break;","         case 'object':","             const isArray = value instanceof Array;","             if (isNumberComparisons) {","                 throw new Error('object 类型的值不能使用 ' + comparison + ' 方式比较')","             } else if (isCollectionComparisons && isArray) {","              throw new Error('array 类型的值不能使用 ' + comparison + ' 方式比较')","            } else if (","              isArray &&","              comparison === 'include' &&","              value.includes(stringCompareValue)","            ) {","              compareValue = stringCompareValue;","            } else {","              try {","                  compareValue = JSON.parse(stringCompareValue);","              } catch (e) {","                  compareValue = stringCompareValue;","              }","            }","             break;","         case 'boolean':","             if (isNumberComparisons || isCollectionComparisons) {","                 throw new Error('boolean 类型的值不能使用 ' + comparison + ' 方式比较')","             }","             compareValue = stringCompareValue === 'true' ? true : (stringCompareValue === 'false' ? false : stringCompareValue);","             break;","           case 'bigint':","           case 'number':","             if (isNumberComparisons) {","               compareValue = ____string2Number(stringCompareValue);","             } else if (isCollectionComparisons) {","              compareValue = ____string2Array(stringCompareValue);","              value = '' + value;","            } else {","               compareValue = stringCompareValue;","               value = '' + value;","             }","             break;","         case 'null':","             if (isNumberComparisons) {","                 throw new Error('null 类型的值不能使用 ' + comparison + ' 方式比较')","             }","             compareValue = stringCompareValue === 'null' ? null : stringCompareValue;","             break;","         default:","            if (isCollectionComparisons) {","              compareValue = ____string2Array(stringCompareValue);","            } else {","              compareValue = stringCompareValue;","            }","            break;","     }","     return { compareValue, value };","   } catch(e) {","     console.log(e);","     throw e;","   }"," }"," "]}},{"listen":"test","script":{"id":"postProcessors.0.assertion","type":"text/javascript","exec":["","        if (JSON.setEnableBigInt) {","          JSON.setEnableBigInt(undefined);","        }","        pm.test(pm.variables.replaceIn(`$.status_code 等于 0`), function() {","        ","          const expression = pm.variables.replaceIn(`$.status_code`);","          const JSONPath = require('jsonpath-plus').JSONPath;","          let jsonData;","          try {","            jsonData = pm.response.json();","          } catch(e) {","            let text = pm.response.text();","            const xml2js = require('xml2js');","            text = text.replace(/^[^<]*/, '').replace(/[^>]*$/, '');","            let json;","            let xmlParseOptions = {","                explicitArray: false,","                trim: true,","                ignoreAttrs: true,","            };","            xml2js.parseString(text, xmlParseOptions, function (_, result) {","                jsonData = result;","            });","          }","          let value = JSONPath({","            json: jsonData,","            path: expression,","            wrap: false","          });","","          if (false && undefined !== undefined) {","            if (Array.isArray(value)) {","              value = Number(undefined) >= 0 ? value[undefined] : value[value.length + Number(undefined)];","            } else {","              value = undefined;","            }","          }","","          ","        const formattedValues = ____formatValues(value, pm.variables.replaceIn(`0`), 'equal');","        pm.expect(formattedValues.value).to.eql(formattedValues.compareValue);","      });","      "]}}],"responseDefinition":{"id":156870014,"createdAt":"2023-02-09T14:14:29.000Z","updatedAt":"2023-02-09T14:14:29.000Z","deletedAt":null,"apiDetailId":61467665,"name":"成功","code":200,"contentType":"json","jsonSchema":{"type":"object","properties":{}},"defaultEnable":true,"projectId":2274475,"ordering":1,"schemaDefinitions":{}},"requestDefinition":{"jsonSchema":{}},"metaInfo":{"httpApiId":61467665,"httpApiCaseId":69954451,"httpApiName":"用户信息","httpApiPath":"/douyin/user","httpApiMethod":"get","httpApiCaseName":"成功","id":"818ddc15-453d-46e5-b11b-534fd3d19633","type":"http"},"type":"http","protocolProfileBehavior":{"useWhatWGUrlParser":false,"disableUrlEncoding":false}}],"name":"用户注册、登录、获取信息"},{"item":[{"id":"967c06c3-c236-4051-bfaa-8ef83191d710","name":"发布列表(成功)","request":{"url":{"protocol":"http","port":"8080","path":["douyin","publish","list"],"host":["182","92","189","35"],"query":[{"disabled":false,"key":"token","value":"{{token}}"},{"disabled":false,"key":"user_id","value":"{{user_id}}"}],"variable":[]},"header":[{"key":"User-Agent","value":"Apifox/1.0.0 (https://www.apifox.cn)"}],"method":"GET","baseUrl":"http://182.92.189.35:8080","body":{},"type":"http"},"response":[],"event":[{"listen":"prerequest","script":{"id":"commonScript.assertion","type":"text/javascript","exec":["","  ____string2Array = function(value) {","    if(typeof value === 'object'){","      return value;","    }","    try {","      return JSON.parse(value);","    } catch (e) {","      return value;","    }","  }","  ____string2Number = function(value, errorMsg) {","   if(typeof value !== 'string'){","     return value;","   }","   if (/^\\-?\\d+$/.test(value)) {","       return parseInt(value);","   } else if (/^\\-?\\d+\\.\\d+$/.test(value)) {","       return parseFloat(value);","   } else {","       throw new Error(errorMsg || '数据类型不匹配')","   }"," }","","  ____formatValues = function(value, stringCompareValue, comparison) {","   try{","     const isNumberComparisons = ['isBelow', 'isAtMost', 'isAbove', 'isAtLeast'].includes(comparison);","     const isCollectionComparisons = ['isOneOf', 'notOneOf'].includes(comparison);","     let compareValue;","     switch (typeof value) {","         case 'string':","             if (isNumberComparisons) {","                 value = ____string2Number(value);","                 compareValue = ____string2Number(stringCompareValue);","             } else if (isCollectionComparisons) {","              compareValue = ____string2Array(stringCompareValue);","             }","              else {","                 compareValue = stringCompareValue;","             }","             break;","         case 'object':","             const isArray = value instanceof Array;","             if (isNumberComparisons) {","                 throw new Error('object 类型的值不能使用 ' + comparison + ' 方式比较')","             } else if (isCollectionComparisons && isArray) {","              throw new Error('array 类型的值不能使用 ' + comparison + ' 方式比较')","            } else if (","              isArray &&","              comparison === 'include' &&","              value.includes(stringCompareValue)","            ) {","              compareValue = stringCompareValue;","            } else {","              try {","                  compareValue = JSON.parse(stringCompareValue);","              } catch (e) {","                  compareValue = stringCompareValue;","              }","            }","             break;","         case 'boolean':","             if (isNumberComparisons || isCollectionComparisons) {","                 throw new Error('boolean 类型的值不能使用 ' + comparison + ' 方式比较')","             }","             compareValue = stringCompareValue === 'true' ? true : (stringCompareValue === 'false' ? false : stringCompareValue);","             break;","           case 'bigint':","           case 'number':","             if (isNumberComparisons) {","               compareValue = ____string2Number(stringCompareValue);","             } else if (isCollectionComparisons) {","              compareValue = ____string2Array(stringCompareValue);","              value = '' + value;","            } else {","               compareValue = stringCompareValue;","               value = '' + value;","             }","             break;","         case 'null':","             if (isNumberComparisons) {","                 throw new Error('null 类型的值不能使用 ' + comparison + ' 方式比较')","             }","             compareValue = stringCompareValue === 'null' ? null : stringCompareValue;","             break;","         default:","            if (isCollectionComparisons) {","              compareValue = ____string2Array(stringCompareValue);","            } else {","              compareValue = stringCompareValue;","            }","            break;","     }","     return { compareValue, value };","   } catch(e) {","     console.log(e);","     throw e;","   }"," }"," "]}},{"listen":"test","script":{"id":"postProcessors.0.extractor","type":"text/javascript","exec":["","        if (JSON.setEnableBigInt) {","          JSON.setEnableBigInt(undefined);","        }","        ","      try{","        ","          const expression = pm.variables.replaceIn(`$.video_list[0].id`);","          const JSONPath = require('jsonpath-plus').JSONPath;","          const jsonData = pm.response.json();","          let value = JSONPath({","            json: jsonData,","            path: expression,","            wrap: false","          });","","          ","          if (false && undefined !== undefined) {","            if (Array.isArray(value)) {","              value = Number(undefined) >= 0 ? value[undefined] : value[value.length + Number(undefined)];","            } else {","              value = undefined;","            }","          }","          ","        ","        switch (typeof value) {","          case 'object':","            value = JSON.stringify(value);","            break;","          default:","            value = String(value);","            break;","        }","      ","        pm.environment.set(`video_id`, value);console.log('已设置环境变量【video_id】，值为 【' + value + '】')","      } catch(e) {","        e.message = '提取变量【video_id】出错: ' + e.message;","        throw e;","      }","  ","      "]}},{"listen":"test","script":{"id":"postProcessors.1.assertion","type":"text/javascript","exec":["","        if (JSON.setEnableBigInt) {","          JSON.setEnableBigInt(undefined);","        }","        pm.test(pm.variables.replaceIn(`$.status_code 等于 0`), function() {","        ","          const expression = pm.variables.replaceIn(`$.status_code`);","          const JSONPath = require('jsonpath-plus').JSONPath;","          let jsonData;","          try {","            jsonData = pm.response.json();","          } catch(e) {","            let text = pm.response.text();","            const xml2js = require('xml2js');","            text = text.replace(/^[^<]*/, '').replace(/[^>]*$/, '');","            let json;","            let xmlParseOptions = {","                explicitArray: false,","                trim: true,","                ignoreAttrs: true,","            };","            xml2js.parseString(text, xmlParseOptions, function (_, result) {","                jsonData = result;","            });","          }","          let value = JSONPath({","            json: jsonData,","            path: expression,","            wrap: false","          });","","          if (false && undefined !== undefined) {","            if (Array.isArray(value)) {","              value = Number(undefined) >= 0 ? value[undefined] : value[value.length + Number(undefined)];","            } else {","              value = undefined;","            }","          }","","          ","        const formattedValues = ____formatValues(value, pm.variables.replaceIn(`0`), 'equal');","        pm.expect(formattedValues.value).to.eql(formattedValues.compareValue);","      });","      "]}}],"responseDefinition":{"id":156872062,"createdAt":"2023-02-09T14:40:22.000Z","updatedAt":"2023-02-09T14:40:22.000Z","deletedAt":null,"apiDetailId":61469120,"name":"成功","code":200,"contentType":"json","jsonSchema":{"type":"object","properties":{},"x-apifox-orders":["01GRV9XDHA7T8EE0B40EH6WF20"],"required":[],"x-apifox-refs":{"01GRV9XDHA7T8EE0B40EH6WF20":{"$ref":"#/definitions/30269262"}}},"defaultEnable":true,"projectId":2274475,"ordering":1,"schemaDefinitions":{"30269262":{"type":"object","properties":{"status_code":{"type":"integer"},"status_msg":{"type":"string"},"video_list":{"type":"array","items":{"type":"object","properties":{"id":{"type":"integer"},"author":{"type":"object","properties":{"id":{"type":"integer"},"name":{"type":"string"},"follow_count":{"type":"integer"},"follower_count":{"type":"integer"},"is_follow":{"type":"boolean"}},"required":["id","name","follow_count","follower_count","is_follow"],"x-apifox-orders":["id","name","follow_count","follower_count","is_follow"]},"play_url":{"type":"string"},"cover_url":{"type":"string"},"favorite_count":{"type":"integer"},"comment_count":{"type":"integer"},"is_favorite":{"type":"boolean"},"title":{"type":"string"}},"x-apifox-orders":["id","author","play_url","cover_url","favorite_count","comment_count","is_favorite","title"]}}},"required":["status_code","status_msg","video_list"],"x-apifox-orders":["status_code","status_msg","video_list"],"title":"PublishListResponse","name":"PublishListResponse"}}},"requestDefinition":{"jsonSchema":{}},"metaInfo":{"httpApiId":61469120,"httpApiCaseId":69955288,"httpApiName":"发布列表","httpApiPath":"/douyin/publish/list","httpApiMethod":"get","httpApiCaseName":"成功","id":"1c9134e4-c82e-4d38-a7d1-fca9ffb416eb","type":"http"},"type":"http","protocolProfileBehavior":{"useWhatWGUrlParser":false,"disableUrlEncoding":false}},{"id":"ed1be758-fa76-4ffc-900a-d86faf888d6f","name":"上传视频(成功)","request":{"url":{"protocol":"http","port":"8080","path":["douyin","publish","action"],"host":["182","92","189","35"],"query":[],"variable":[]},"header":[{"key":"User-Agent","value":"Apifox/1.0.0 (https://www.apifox.cn)"}],"method":"POST","baseUrl":"http://182.92.189.35:8080","body":{"mode":"formdata","formdata":[{"disabled":false,"key":"data","type":"file","src":"C:\\Users\\uperbilite\\Downloads\\41e452be-7e70-4936-b548-53c9b901cf96.mp4"},{"disabled":false,"key":"token","value":"{{token}}","type":"string"},{"disabled":false,"key":"title","value":"{% mock 'title' %}","type":"string"}]},"type":"http"},"response":[],"event":[{"listen":"prerequest","script":{"id":"commonScript.assertion","type":"text/javascript","exec":["","  ____string2Array = function(value) {","    if(typeof value === 'object'){","      return value;","    }","    try {","      return JSON.parse(value);","    } catch (e) {","      return value;","    }","  }","  ____string2Number = function(value, errorMsg) {","   if(typeof value !== 'string'){","     return value;","   }","   if (/^\\-?\\d+$/.test(value)) {","       return parseInt(value);","   } else if (/^\\-?\\d+\\.\\d+$/.test(value)) {","       return parseFloat(value);","   } else {","       throw new Error(errorMsg || '数据类型不匹配')","   }"," }","","  ____formatValues = function(value, stringCompareValue, comparison) {","   try{","     const isNumberComparisons = ['isBelow', 'isAtMost', 'isAbove', 'isAtLeast'].includes(comparison);","     const isCollectionComparisons = ['isOneOf', 'notOneOf'].includes(comparison);","     let compareValue;","     switch (typeof value) {","         case 'string':","             if (isNumberComparisons) {","                 value = ____string2Number(value);","                 compareValue = ____string2Number(stringCompareValue);","             } else if (isCollectionComparisons) {","              compareValue = ____string2Array(stringCompareValue);","             }","              else {","                 compareValue = stringCompareValue;","             }","             break;","         case 'object':","             const isArray = value instanceof Array;","             if (isNumberComparisons) {","                 throw new Error('object 类型的值不能使用 ' + comparison + ' 方式比较')","             } else if (isCollectionComparisons && isArray) {","              throw new Error('array 类型的值不能使用 ' + comparison + ' 方式比较')","            } else if (","              isArray &&","              comparison === 'include' &&","              value.includes(stringCompareValue)","            ) {","              compareValue = stringCompareValue;","            } else {","              try {","                  compareValue = JSON.parse(stringCompareValue);","              } catch (e) {","                  compareValue = stringCompareValue;","              }","            }","             break;","         case 'boolean':","             if (isNumberComparisons || isCollectionComparisons) {","                 throw new Error('boolean 类型的值不能使用 ' + comparison + ' 方式比较')","             }","             compareValue = stringCompareValue === 'true' ? true : (stringCompareValue === 'false' ? false : stringCompareValue);","             break;","           case 'bigint':","           case 'number':","             if (isNumberComparisons) {","               compareValue = ____string2Number(stringCompareValue);","             } else if (isCollectionComparisons) {","              compareValue = ____string2Array(stringCompareValue);","              value = '' + value;","            } else {","               compareValue = stringCompareValue;","               value = '' + value;","             }","             break;","         case 'null':","             if (isNumberComparisons) {","                 throw new Error('null 类型的值不能使用 ' + comparison + ' 方式比较')","             }","             compareValue = stringCompareValue === 'null' ? null : stringCompareValue;","             break;","         default:","            if (isCollectionComparisons) {","              compareValue = ____string2Array(stringCompareValue);","            } else {","              compareValue = stringCompareValue;","            }","            break;","     }","     return { compareValue, value };","   } catch(e) {","     console.log(e);","     throw e;","   }"," }"," "]}},{"listen":"test","script":{"id":"postProcessors.0.assertion","type":"text/javascript","exec":["","        if (JSON.setEnableBigInt) {","          JSON.setEnableBigInt(undefined);","        }","        pm.test(pm.variables.replaceIn(`$.status_code 等于 0`), function() {","        ","          const expression = pm.variables.replaceIn(`$.status_code`);","          const JSONPath = require('jsonpath-plus').JSONPath;","          let jsonData;","          try {","            jsonData = pm.response.json();","          } catch(e) {","            let text = pm.response.text();","            const xml2js = require('xml2js');","            text = text.replace(/^[^<]*/, '').replace(/[^>]*$/, '');","            let json;","            let xmlParseOptions = {","                explicitArray: false,","                trim: true,","                ignoreAttrs: true,","            };","            xml2js.parseString(text, xmlParseOptions, function (_, result) {","                jsonData = result;","            });","          }","          let value = JSONPath({","            json: jsonData,","            path: expression,","            wrap: false","          });","","          if (false && undefined !== undefined) {","            if (Array.isArray(value)) {","              value = Number(undefined) >= 0 ? value[undefined] : value[value.length + Number(undefined)];","            } else {","              value = undefined;","            }","          }","","          ","        const formattedValues = ____formatValues(value, pm.variables.replaceIn(`0`), 'equal');","        pm.expect(formattedValues.value).to.eql(formattedValues.compareValue);","      });","      "]}}],"responseDefinition":{"id":156871676,"createdAt":"2023-02-09T14:30:09.000Z","updatedAt":"2023-02-09T14:30:09.000Z","deletedAt":null,"apiDetailId":61468928,"name":"成功","code":200,"contentType":"json","jsonSchema":{"type":"object","properties":{},"x-apifox-orders":["01GRV9AHHZ3YTCAW5B91EF4YFG"],"required":[],"x-apifox-refs":{"01GRV9AHHZ3YTCAW5B91EF4YFG":{"$ref":"#/definitions/30269258"}}},"defaultEnable":true,"projectId":2274475,"ordering":1,"schemaDefinitions":{"30269258":{"type":"object","properties":{"status_code":{"type":"integer"},"status_msg":{"type":"string"}},"required":["status_code","status_msg"],"x-apifox-orders":["status_code","status_msg"],"title":"PublishActionResponse","name":"PublishActionResponse"}}},"requestDefinition":{"jsonSchema":{}},"metaInfo":{"httpApiId":61468928,"httpApiCaseId":69955140,"httpApiName":"上传视频","httpApiPath":"/douyin/publish/action","httpApiMethod":"post","httpApiCaseName":"成功","id":"b7aaf5e0-f96b-445d-9487-c9ebdea85ef3","type":"http"},"type":"http","protocolProfileBehavior":{"useWhatWGUrlParser":false,"disableUrlEncoding":false}},{"id":"d5f980b6-ee16-4a1d-8f11-ce771cf179ec","name":"发布列表(成功)","request":{"url":{"protocol":"http","port":"8080","path":["douyin","publish","list"],"host":["182","92","189","35"],"query":[{"disabled":false,"key":"token","value":"{{token}}"},{"disabled":false,"key":"user_id","value":"{{user_id}}"}],"variable":[]},"header":[{"key":"User-Agent","value":"Apifox/1.0.0 (https://www.apifox.cn)"}],"method":"GET","baseUrl":"http://182.92.189.35:8080","body":{},"type":"http"},"response":[],"event":[{"listen":"prerequest","script":{"id":"commonScript.assertion","type":"text/javascript","exec":["","  ____string2Array = function(value) {","    if(typeof value === 'object'){","      return value;","    }","    try {","      return JSON.parse(value);","    } catch (e) {","      return value;","    }","  }","  ____string2Number = function(value, errorMsg) {","   if(typeof value !== 'string'){","     return value;","   }","   if (/^\\-?\\d+$/.test(value)) {","       return parseInt(value);","   } else if (/^\\-?\\d+\\.\\d+$/.test(value)) {","       return parseFloat(value);","   } else {","       throw new Error(errorMsg || '数据类型不匹配')","   }"," }","","  ____formatValues = function(value, stringCompareValue, comparison) {","   try{","     const isNumberComparisons = ['isBelow', 'isAtMost', 'isAbove', 'isAtLeast'].includes(comparison);","     const isCollectionComparisons = ['isOneOf', 'notOneOf'].includes(comparison);","     let compareValue;","     switch (typeof value) {","         case 'string':","             if (isNumberComparisons) {","                 value = ____string2Number(value);","                 compareValue = ____string2Number(stringCompareValue);","             } else if (isCollectionComparisons) {","              compareValue = ____string2Array(stringCompareValue);","             }","              else {","                 compareValue = stringCompareValue;","             }","             break;","         case 'object':","             const isArray = value instanceof Array;","             if (isNumberComparisons) {","                 throw new Error('object 类型的值不能使用 ' + comparison + ' 方式比较')","             } else if (isCollectionComparisons && isArray) {","              throw new Error('array 类型的值不能使用 ' + comparison + ' 方式比较')","            } else if (","              isArray &&","              comparison === 'include' &&","              value.includes(stringCompareValue)","            ) {","              compareValue = stringCompareValue;","            } else {","              try {","                  compareValue = JSON.parse(stringCompareValue);","              } catch (e) {","                  compareValue = stringCompareValue;","              }","            }","             break;","         case 'boolean':","             if (isNumberComparisons || isCollectionComparisons) {","                 throw new Error('boolean 类型的值不能使用 ' + comparison + ' 方式比较')","             }","             compareValue = stringCompareValue === 'true' ? true : (stringCompareValue === 'false' ? false : stringCompareValue);","             break;","           case 'bigint':","           case 'number':","             if (isNumberComparisons) {","               compareValue = ____string2Number(stringCompareValue);","             } else if (isCollectionComparisons) {","              compareValue = ____string2Array(stringCompareValue);","              value = '' + value;","            } else {","               compareValue = stringCompareValue;","               value = '' + value;","             }","             break;","         case 'null':","             if (isNumberComparisons) {","                 throw new Error('null 类型的值不能使用 ' + comparison + ' 方式比较')","             }","             compareValue = stringCompareValue === 'null' ? null : stringCompareValue;","             break;","         default:","            if (isCollectionComparisons) {","              compareValue = ____string2Array(stringCompareValue);","            } else {","              compareValue = stringCompareValue;","            }","            break;","     }","     return { compareValue, value };","   } catch(e) {","     console.log(e);","     throw e;","   }"," }"," "]}},{"listen":"test","script":{"id":"postProcessors.0.extractor","type":"text/javascript","exec":["","        if (JSON.setEnableBigInt) {","          JSON.setEnableBigInt(undefined);","        }","        ","      try{","        ","          const expression = pm.variables.replaceIn(`$.video_list[0].id`);","          const JSONPath = require('jsonpath-plus').JSONPath;","          const jsonData = pm.response.json();","          let value = JSONPath({","            json: jsonData,","            path: expression,","            wrap: false","          });","","          ","          if (false && undefined !== undefined) {","            if (Array.isArray(value)) {","              value = Number(undefined) >= 0 ? value[undefined] : value[value.length + Number(undefined)];","            } else {","              value = undefined;","            }","          }","          ","        ","        switch (typeof value) {","          case 'object':","            value = JSON.stringify(value);","            break;","          default:","            value = String(value);","            break;","        }","      ","        pm.environment.set(`video_id`, value);console.log('已设置环境变量【video_id】，值为 【' + value + '】')","      } catch(e) {","        e.message = '提取变量【video_id】出错: ' + e.message;","        throw e;","      }","  ","      "]}},{"listen":"test","script":{"id":"postProcessors.1.assertion","type":"text/javascript","exec":["","        if (JSON.setEnableBigInt) {","          JSON.setEnableBigInt(undefined);","        }","        pm.test(pm.variables.replaceIn(`$.status_code 等于 0`), function() {","        ","          const expression = pm.variables.replaceIn(`$.status_code`);","          const JSONPath = require('jsonpath-plus').JSONPath;","          let jsonData;","          try {","            jsonData = pm.response.json();","          } catch(e) {","            let text = pm.response.text();","            const xml2js = require('xml2js');","            text = text.replace(/^[^<]*/, '').replace(/[^>]*$/, '');","            let json;","            let xmlParseOptions = {","                explicitArray: false,","                trim: true,","                ignoreAttrs: true,","            };","            xml2js.parseString(text, xmlParseOptions, function (_, result) {","                jsonData = result;","            });","          }","          let value = JSONPath({","            json: jsonData,","            path: expression,","            wrap: false","          });","","          if (false && undefined !== undefined) {","            if (Array.isArray(value)) {","              value = Number(undefined) >= 0 ? value[undefined] : value[value.length + Number(undefined)];","            } else {","              value = undefined;","            }","          }","","          ","        const formattedValues = ____formatValues(value, pm.variables.replaceIn(`0`), 'equal');","        pm.expect(formattedValues.value).to.eql(formattedValues.compareValue);","      });","      "]}}],"responseDefinition":{"id":156872062,"createdAt":"2023-02-09T14:40:22.000Z","updatedAt":"2023-02-09T14:40:22.000Z","deletedAt":null,"apiDetailId":61469120,"name":"成功","code":200,"contentType":"json","jsonSchema":{"type":"object","properties":{},"x-apifox-orders":["01GRV9XDHA7T8EE0B40EH6WF20"],"required":[],"x-apifox-refs":{"01GRV9XDHA7T8EE0B40EH6WF20":{"$ref":"#/definitions/30269262"}}},"defaultEnable":true,"projectId":2274475,"ordering":1,"schemaDefinitions":{"30269262":{"type":"object","properties":{"status_code":{"type":"integer"},"status_msg":{"type":"string"},"video_list":{"type":"array","items":{"type":"object","properties":{"id":{"type":"integer"},"author":{"type":"object","properties":{"id":{"type":"integer"},"name":{"type":"string"},"follow_count":{"type":"integer"},"follower_count":{"type":"integer"},"is_follow":{"type":"boolean"}},"required":["id","name","follow_count","follower_count","is_follow"],"x-apifox-orders":["id","name","follow_count","follower_count","is_follow"]},"play_url":{"type":"string"},"cover_url":{"type":"string"},"favorite_count":{"type":"integer"},"comment_count":{"type":"integer"},"is_favorite":{"type":"boolean"},"title":{"type":"string"}},"x-apifox-orders":["id","author","play_url","cover_url","favorite_count","comment_count","is_favorite","title"]}}},"required":["status_code","status_msg","video_list"],"x-apifox-orders":["status_code","status_msg","video_list"],"title":"PublishListResponse","name":"PublishListResponse"}}},"requestDefinition":{"jsonSchema":{}},"metaInfo":{"httpApiId":61469120,"httpApiCaseId":69955288,"httpApiName":"发布列表","httpApiPath":"/douyin/publish/list","httpApiMethod":"get","httpApiCaseName":"成功","id":"6839a8d7-1ec1-401f-8294-e2f6aa0e17bf","type":"http"},"type":"http","protocolProfileBehavior":{"useWhatWGUrlParser":false,"disableUrlEncoding":false}}],"name":"上传视频、获取视频列表"},{"item":[{"id":"0d73cf62-4f6f-4caa-9bff-20c6d0f12819","name":"视频流接口(未登录)","request":{"url":{"protocol":"http","port":"8080","path":["douyin","feed"],"host":["182","92","189","35"],"query":[{"disabled":false,"key":"latest_time","value":"{% mock 'timestamp' , 'ms' %}"}],"variable":[]},"header":[{"key":"User-Agent","value":"Apifox/1.0.0 (https://www.apifox.cn)"}],"method":"GET","baseUrl":"http://182.92.189.35:8080","body":{},"type":"http"},"response":[],"event":[{"listen":"prerequest","script":{"id":"commonScript.assertion","type":"text/javascript","exec":["","  ____string2Array = function(value) {","    if(typeof value === 'object'){","      return value;","    }","    try {","      return JSON.parse(value);","    } catch (e) {","      return value;","    }","  }","  ____string2Number = function(value, errorMsg) {","   if(typeof value !== 'string'){","     return value;","   }","   if (/^\\-?\\d+$/.test(value)) {","       return parseInt(value);","   } else if (/^\\-?\\d+\\.\\d+$/.test(value)) {","       return parseFloat(value);","   } else {","       throw new Error(errorMsg || '数据类型不匹配')","   }"," }","","  ____formatValues = function(value, stringCompareValue, comparison) {","   try{","     const isNumberComparisons = ['isBelow', 'isAtMost', 'isAbove', 'isAtLeast'].includes(comparison);","     const isCollectionComparisons = ['isOneOf', 'notOneOf'].includes(comparison);","     let compareValue;","     switch (typeof value) {","         case 'string':","             if (isNumberComparisons) {","                 value = ____string2Number(value);","                 compareValue = ____string2Number(stringCompareValue);","             } else if (isCollectionComparisons) {","              compareValue = ____string2Array(stringCompareValue);","             }","              else {","                 compareValue = stringCompareValue;","             }","             break;","         case 'object':","             const isArray = value instanceof Array;","             if (isNumberComparisons) {","                 throw new Error('object 类型的值不能使用 ' + comparison + ' 方式比较')","             } else if (isCollectionComparisons && isArray) {","              throw new Error('array 类型的值不能使用 ' + comparison + ' 方式比较')","            } else if (","              isArray &&","              comparison === 'include' &&","              value.includes(stringCompareValue)","            ) {","              compareValue = stringCompareValue;","            } else {","              try {","                  compareValue = JSON.parse(stringCompareValue);","              } catch (e) {","                  compareValue = stringCompareValue;","              }","            }","             break;","         case 'boolean':","             if (isNumberComparisons || isCollectionComparisons) {","                 throw new Error('boolean 类型的值不能使用 ' + comparison + ' 方式比较')","             }","             compareValue = stringCompareValue === 'true' ? true : (stringCompareValue === 'false' ? false : stringCompareValue);","             break;","           case 'bigint':","           case 'number':","             if (isNumberComparisons) {","               compareValue = ____string2Number(stringCompareValue);","             } else if (isCollectionComparisons) {","              compareValue = ____string2Array(stringCompareValue);","              value = '' + value;","            } else {","               compareValue = stringCompareValue;","               value = '' + value;","             }","             break;","         case 'null':","             if (isNumberComparisons) {","                 throw new Error('null 类型的值不能使用 ' + comparison + ' 方式比较')","             }","             compareValue = stringCompareValue === 'null' ? null : stringCompareValue;","             break;","         default:","            if (isCollectionComparisons) {","              compareValue = ____string2Array(stringCompareValue);","            } else {","              compareValue = stringCompareValue;","            }","            break;","     }","     return { compareValue, value };","   } catch(e) {","     console.log(e);","     throw e;","   }"," }"," "]}},{"listen":"test","script":{"id":"postProcessors.0.assertion","type":"text/javascript","exec":["","        if (JSON.setEnableBigInt) {","          JSON.setEnableBigInt(undefined);","        }","        pm.test(pm.variables.replaceIn(`$.status_code 等于 0`), function() {","        ","          const expression = pm.variables.replaceIn(`$.status_code`);","          const JSONPath = require('jsonpath-plus').JSONPath;","          let jsonData;","          try {","            jsonData = pm.response.json();","          } catch(e) {","            let text = pm.response.text();","            const xml2js = require('xml2js');","            text = text.replace(/^[^<]*/, '').replace(/[^>]*$/, '');","            let json;","            let xmlParseOptions = {","                explicitArray: false,","                trim: true,","                ignoreAttrs: true,","            };","            xml2js.parseString(text, xmlParseOptions, function (_, result) {","                jsonData = result;","            });","          }","          let value = JSONPath({","            json: jsonData,","            path: expression,","            wrap: false","          });","","          if (false && undefined !== undefined) {","            if (Array.isArray(value)) {","              value = Number(undefined) >= 0 ? value[undefined] : value[value.length + Number(undefined)];","            } else {","              value = undefined;","            }","          }","","          ","        const formattedValues = ____formatValues(value, pm.variables.replaceIn(`0`), 'equal');","        pm.expect(formattedValues.value).to.eql(formattedValues.compareValue);","      });","      "]}}],"responseDefinition":{"id":156872492,"createdAt":"2023-02-09T14:49:57.000Z","updatedAt":"2023-02-09T14:49:57.000Z","deletedAt":null,"apiDetailId":61469501,"name":"成功","code":200,"contentType":"json","jsonSchema":{"type":"object","properties":{},"x-apifox-orders":["01GRVAEYCH34G5KGA2GEBZZ3NY"],"required":[],"x-apifox-refs":{"01GRVAEYCH34G5KGA2GEBZZ3NY":{"$ref":"#/definitions/30269265"}}},"defaultEnable":true,"projectId":2274475,"ordering":1,"schemaDefinitions":{"30269265":{"type":"object","properties":{"status_code":{"type":"integer"},"status_msg":{"type":"string"},"next_time":{"type":"integer"},"video_list":{"type":"array","items":{"type":"object","properties":{"id":{"type":"integer"},"author":{"type":"object","properties":{"id":{"type":"integer"},"name":{"type":"string"},"follow_count":{"type":"integer"},"follower_count":{"type":"integer"},"is_follow":{"type":"boolean"}},"required":["id","name","follow_count","follower_count","is_follow"],"x-apifox-orders":["id","name","follow_count","follower_count","is_follow"]},"play_url":{"type":"string"},"cover_url":{"type":"string"},"favorite_count":{"type":"integer"},"comment_count":{"type":"integer"},"is_favorite":{"type":"boolean"},"title":{"type":"string"}},"x-apifox-orders":["id","author","play_url","cover_url","favorite_count","comment_count","is_favorite","title"]}}},"required":["status_code","status_msg","next_time","video_list"],"x-apifox-orders":["status_code","status_msg","next_time","video_list"],"title":"FeedResponse","name":"FeedResponse"}}},"requestDefinition":{"jsonSchema":{}},"metaInfo":{"httpApiId":61469501,"httpApiCaseId":69955533,"httpApiName":"视频流接口","httpApiPath":"/douyin/feed","httpApiMethod":"get","httpApiCaseName":"未登录","id":"b62281ec-7be3-4d9b-b7a4-30bf1170b783","type":"http"},"type":"http","protocolProfileBehavior":{"useWhatWGUrlParser":false,"disableUrlEncoding":false}},{"id":"7bb56945-c1b0-491f-b36e-786376466426","name":"视频流接口(已登录)","request":{"url":{"protocol":"http","port":"8080","path":["douyin","feed"],"host":["182","92","189","35"],"query":[{"disabled":false,"key":"latest_time","value":"{% mock 'timestamp' , 'ms' %}"},{"disabled":false,"key":"token","value":"{{token}}"}],"variable":[]},"header":[{"key":"User-Agent","value":"Apifox/1.0.0 (https://www.apifox.cn)"}],"method":"GET","baseUrl":"http://182.92.189.35:8080","body":{},"type":"http"},"response":[],"event":[{"listen":"prerequest","script":{"id":"commonScript.assertion","type":"text/javascript","exec":["","  ____string2Array = function(value) {","    if(typeof value === 'object'){","      return value;","    }","    try {","      return JSON.parse(value);","    } catch (e) {","      return value;","    }","  }","  ____string2Number = function(value, errorMsg) {","   if(typeof value !== 'string'){","     return value;","   }","   if (/^\\-?\\d+$/.test(value)) {","       return parseInt(value);","   } else if (/^\\-?\\d+\\.\\d+$/.test(value)) {","       return parseFloat(value);","   } else {","       throw new Error(errorMsg || '数据类型不匹配')","   }"," }","","  ____formatValues = function(value, stringCompareValue, comparison) {","   try{","     const isNumberComparisons = ['isBelow', 'isAtMost', 'isAbove', 'isAtLeast'].includes(comparison);","     const isCollectionComparisons = ['isOneOf', 'notOneOf'].includes(comparison);","     let compareValue;","     switch (typeof value) {","         case 'string':","             if (isNumberComparisons) {","                 value = ____string2Number(value);","                 compareValue = ____string2Number(stringCompareValue);","             } else if (isCollectionComparisons) {","              compareValue = ____string2Array(stringCompareValue);","             }","              else {","                 compareValue = stringCompareValue;","             }","             break;","         case 'object':","             const isArray = value instanceof Array;","             if (isNumberComparisons) {","                 throw new Error('object 类型的值不能使用 ' + comparison + ' 方式比较')","             } else if (isCollectionComparisons && isArray) {","              throw new Error('array 类型的值不能使用 ' + comparison + ' 方式比较')","            } else if (","              isArray &&","              comparison === 'include' &&","              value.includes(stringCompareValue)","            ) {","              compareValue = stringCompareValue;","            } else {","              try {","                  compareValue = JSON.parse(stringCompareValue);","              } catch (e) {","                  compareValue = stringCompareValue;","              }","            }","             break;","         case 'boolean':","             if (isNumberComparisons || isCollectionComparisons) {","                 throw new Error('boolean 类型的值不能使用 ' + comparison + ' 方式比较')","             }","             compareValue = stringCompareValue === 'true' ? true : (stringCompareValue === 'false' ? false : stringCompareValue);","             break;","           case 'bigint':","           case 'number':","             if (isNumberComparisons) {","               compareValue = ____string2Number(stringCompareValue);","             } else if (isCollectionComparisons) {","              compareValue = ____string2Array(stringCompareValue);","              value = '' + value;","            } else {","               compareValue = stringCompareValue;","               value = '' + value;","             }","             break;","         case 'null':","             if (isNumberComparisons) {","                 throw new Error('null 类型的值不能使用 ' + comparison + ' 方式比较')","             }","             compareValue = stringCompareValue === 'null' ? null : stringCompareValue;","             break;","         default:","            if (isCollectionComparisons) {","              compareValue = ____string2Array(stringCompareValue);","            } else {","              compareValue = stringCompareValue;","            }","            break;","     }","     return { compareValue, value };","   } catch(e) {","     console.log(e);","     throw e;","   }"," }"," "]}},{"listen":"test","script":{"id":"postProcessors.0.assertion","type":"text/javascript","exec":["","        if (JSON.setEnableBigInt) {","          JSON.setEnableBigInt(undefined);","        }","        pm.test(pm.variables.replaceIn(`$.status_code 等于 0`), function() {","        ","          const expression = pm.variables.replaceIn(`$.status_code`);","          const JSONPath = require('jsonpath-plus').JSONPath;","          let jsonData;","          try {","            jsonData = pm.response.json();","          } catch(e) {","            let text = pm.response.text();","            const xml2js = require('xml2js');","            text = text.replace(/^[^<]*/, '').replace(/[^>]*$/, '');","            let json;","            let xmlParseOptions = {","                explicitArray: false,","                trim: true,","                ignoreAttrs: true,","            };","            xml2js.parseString(text, xmlParseOptions, function (_, result) {","                jsonData = result;","            });","          }","          let value = JSONPath({","            json: jsonData,","            path: expression,","            wrap: false","          });","","          if (false && undefined !== undefined) {","            if (Array.isArray(value)) {","              value = Number(undefined) >= 0 ? value[undefined] : value[value.length + Number(undefined)];","            } else {","              value = undefined;","            }","          }","","          ","        const formattedValues = ____formatValues(value, pm.variables.replaceIn(`0`), 'equal');","        pm.expect(formattedValues.value).to.eql(formattedValues.compareValue);","      });","      "]}}],"responseDefinition":{"id":156872492,"createdAt":"2023-02-09T14:49:57.000Z","updatedAt":"2023-02-09T14:49:57.000Z","deletedAt":null,"apiDetailId":61469501,"name":"成功","code":200,"contentType":"json","jsonSchema":{"type":"object","properties":{},"x-apifox-orders":["01GRVAEYCH34G5KGA2GEBZZ3NY"],"required":[],"x-apifox-refs":{"01GRVAEYCH34G5KGA2GEBZZ3NY":{"$ref":"#/definitions/30269265"}}},"defaultEnable":true,"projectId":2274475,"ordering":1,"schemaDefinitions":{"30269265":{"type":"object","properties":{"status_code":{"type":"integer"},"status_msg":{"type":"string"},"next_time":{"type":"integer"},"video_list":{"type":"array","items":{"type":"object","properties":{"id":{"type":"integer"},"author":{"type":"object","properties":{"id":{"type":"integer"},"name":{"type":"string"},"follow_count":{"type":"integer"},"follower_count":{"type":"integer"},"is_follow":{"type":"boolean"}},"required":["id","name","follow_count","follower_count","is_follow"],"x-apifox-orders":["id","name","follow_count","follower_count","is_follow"]},"play_url":{"type":"string"},"cover_url":{"type":"string"},"favorite_count":{"type":"integer"},"comment_count":{"type":"integer"},"is_favorite":{"type":"boolean"},"title":{"type":"string"}},"x-apifox-orders":["id","author","play_url","cover_url","favorite_count","comment_count","is_favorite","title"]}}},"required":["status_code","status_msg","next_time","video_list"],"x-apifox-orders":["status_code","status_msg","next_time","video_list"],"title":"FeedResponse","name":"FeedResponse"}}},"requestDefinition":{"jsonSchema":{}},"metaInfo":{"httpApiId":61469501,"httpApiCaseId":69955598,"httpApiName":"视频流接口","httpApiPath":"/douyin/feed","httpApiMethod":"get","httpApiCaseName":"已登录","id":"1038f5b8-7359-4d2c-94f2-98f163b043e8","type":"http"},"type":"http","protocolProfileBehavior":{"useWhatWGUrlParser":false,"disableUrlEncoding":false}}],"name":"获取视频流"},{"item":[{"id":"72214e5a-434d-4ef2-826c-79851f41d822","name":"喜欢列表(成功)","request":{"url":{"protocol":"http","port":"8080","path":["douyin","favorite","list",""],"host":["182","92","189","35"],"query":[{"disabled":false,"key":"user_id","value":"{{user_id}}"},{"disabled":false,"key":"token","value":"{{token}}"}],"variable":[]},"header":[{"key":"User-Agent","value":"Apifox/1.0.0 (https://www.apifox.cn)"}],"method":"GET","baseUrl":"http://182.92.189.35:8080","body":{},"type":"http"},"response":[],"event":[{"listen":"prerequest","script":{"id":"commonScript.assertion","type":"text/javascript","exec":["","  ____string2Array = function(value) {","    if(typeof value === 'object'){","      return value;","    }","    try {","      return JSON.parse(value);","    } catch (e) {","      return value;","    }","  }","  ____string2Number = function(value, errorMsg) {","   if(typeof value !== 'string'){","     return value;","   }","   if (/^\\-?\\d+$/.test(value)) {","       return parseInt(value);","   } else if (/^\\-?\\d+\\.\\d+$/.test(value)) {","       return parseFloat(value);","   } else {","       throw new Error(errorMsg || '数据类型不匹配')","   }"," }","","  ____formatValues = function(value, stringCompareValue, comparison) {","   try{","     const isNumberComparisons = ['isBelow', 'isAtMost', 'isAbove', 'isAtLeast'].includes(comparison);","     const isCollectionComparisons = ['isOneOf', 'notOneOf'].includes(comparison);","     let compareValue;","     switch (typeof value) {","         case 'string':","             if (isNumberComparisons) {","                 value = ____string2Number(value);","                 compareValue = ____string2Number(stringCompareValue);","             } else if (isCollectionComparisons) {","              compareValue = ____string2Array(stringCompareValue);","             }","              else {","                 compareValue = stringCompareValue;","             }","             break;","         case 'object':","             const isArray = value instanceof Array;","             if (isNumberComparisons) {","                 throw new Error('object 类型的值不能使用 ' + comparison + ' 方式比较')","             } else if (isCollectionComparisons && isArray) {","              throw new Error('array 类型的值不能使用 ' + comparison + ' 方式比较')","            } else if (","              isArray &&","              comparison === 'include' &&","              value.includes(stringCompareValue)","            ) {","              compareValue = stringCompareValue;","            } else {","              try {","                  compareValue = JSON.parse(stringCompareValue);","              } catch (e) {","                  compareValue = stringCompareValue;","              }","            }","             break;","         case 'boolean':","             if (isNumberComparisons || isCollectionComparisons) {","                 throw new Error('boolean 类型的值不能使用 ' + comparison + ' 方式比较')","             }","             compareValue = stringCompareValue === 'true' ? true : (stringCompareValue === 'false' ? false : stringCompareValue);","             break;","           case 'bigint':","           case 'number':","             if (isNumberComparisons) {","               compareValue = ____string2Number(stringCompareValue);","             } else if (isCollectionComparisons) {","              compareValue = ____string2Array(stringCompareValue);","              value = '' + value;","            } else {","               compareValue = stringCompareValue;","               value = '' + value;","             }","             break;","         case 'null':","             if (isNumberComparisons) {","                 throw new Error('null 类型的值不能使用 ' + comparison + ' 方式比较')","             }","             compareValue = stringCompareValue === 'null' ? null : stringCompareValue;","             break;","         default:","            if (isCollectionComparisons) {","              compareValue = ____string2Array(stringCompareValue);","            } else {","              compareValue = stringCompareValue;","            }","            break;","     }","     return { compareValue, value };","   } catch(e) {","     console.log(e);","     throw e;","   }"," }"," "]}},{"listen":"test","script":{"id":"postProcessors.0.assertion","type":"text/javascript","exec":["","        if (JSON.setEnableBigInt) {","          JSON.setEnableBigInt(undefined);","        }","        pm.test(pm.variables.replaceIn(`$.status_code 等于 0`), function() {","        ","          const expression = pm.variables.replaceIn(`$.status_code`);","          const JSONPath = require('jsonpath-plus').JSONPath;","          let jsonData;","          try {","            jsonData = pm.response.json();","          } catch(e) {","            let text = pm.response.text();","            const xml2js = require('xml2js');","            text = text.replace(/^[^<]*/, '').replace(/[^>]*$/, '');","            let json;","            let xmlParseOptions = {","                explicitArray: false,","                trim: true,","                ignoreAttrs: true,","            };","            xml2js.parseString(text, xmlParseOptions, function (_, result) {","                jsonData = result;","            });","          }","          let value = JSONPath({","            json: jsonData,","            path: expression,","            wrap: false","          });","","          if (false && undefined !== undefined) {","            if (Array.isArray(value)) {","              value = Number(undefined) >= 0 ? value[undefined] : value[value.length + Number(undefined)];","            } else {","              value = undefined;","            }","          }","","          ","        const formattedValues = ____formatValues(value, pm.variables.replaceIn(`0`), 'equal');","        pm.expect(formattedValues.value).to.eql(formattedValues.compareValue);","      });","      "]}}],"responseDefinition":{"id":156873692,"createdAt":"2023-02-09T15:11:30.000Z","updatedAt":"2023-02-09T15:11:48.000Z","deletedAt":null,"apiDetailId":61470348,"name":"成功","code":200,"contentType":"json","jsonSchema":{"type":"object","properties":{},"x-apifox-orders":["01GRVBPZDEX7DAVCASE1Z423GH"],"required":[],"x-apifox-refs":{"01GRVBPZDEX7DAVCASE1Z423GH":{"$ref":"#/definitions/30269323"}}},"defaultEnable":true,"projectId":2274475,"ordering":1,"schemaDefinitions":{"30269323":{"type":"object","properties":{"status_code":{"type":"integer"},"status_msg":{"type":"string"},"video_list":{"type":"array","items":{"type":"object","properties":{"id":{"type":"integer"},"author":{"type":"object","properties":{"id":{"type":"integer"},"name":{"type":"string"},"follow_count":{"type":"integer"},"follower_count":{"type":"integer"},"is_follow":{"type":"boolean"}},"required":["id","name","follow_count","follower_count","is_follow"],"x-apifox-orders":["id","name","follow_count","follower_count","is_follow"]},"play_url":{"type":"string"},"cover_url":{"type":"string"},"favorite_count":{"type":"integer"},"comment_count":{"type":"integer"},"is_favorite":{"type":"boolean"},"title":{"type":"string"}},"x-apifox-orders":["id","author","play_url","cover_url","favorite_count","comment_count","is_favorite","title"]}}},"required":["status_code","status_msg","video_list"],"x-apifox-orders":["status_code","status_msg","video_list"],"title":"FavoriteListResponse","name":"FavoriteListResponse"}}},"requestDefinition":{"jsonSchema":{}},"metaInfo":{"httpApiId":61470348,"httpApiCaseId":69956222,"httpApiName":"喜欢列表","httpApiPath":"/douyin/favorite/list/","httpApiMethod":"get","httpApiCaseName":"成功","id":"b62feaf4-ba4d-40d2-ac2d-1dddbc9a76de","type":"http"},"type":"http","protocolProfileBehavior":{"useWhatWGUrlParser":false,"disableUrlEncoding":false}},{"id":"b105af6d-07f5-4aeb-90bb-e86d3a3eecf9","name":"赞操作(成功点赞)","request":{"url":{"protocol":"http","port":"8080","path":["douyin","favorite","action"],"host":["182","92","189","35"],"query":[{"disabled":false,"key":"token","value":"{{token}}"},{"disabled":false,"key":"video_id","value":"{{video_id}}"},{"disabled":false,"key":"action_type","value":"1"}],"variable":[]},"header":[{"key":"User-Agent","value":"Apifox/1.0.0 (https://www.apifox.cn)"}],"method":"POST","baseUrl":"http://182.92.189.35:8080","body":{},"type":"http"},"response":[],"event":[{"listen":"prerequest","script":{"id":"commonScript.assertion","type":"text/javascript","exec":["","  ____string2Array = function(value) {","    if(typeof value === 'object'){","      return value;","    }","    try {","      return JSON.parse(value);","    } catch (e) {","      return value;","    }","  }","  ____string2Number = function(value, errorMsg) {","   if(typeof value !== 'string'){","     return value;","   }","   if (/^\\-?\\d+$/.test(value)) {","       return parseInt(value);","   } else if (/^\\-?\\d+\\.\\d+$/.test(value)) {","       return parseFloat(value);","   } else {","       throw new Error(errorMsg || '数据类型不匹配')","   }"," }","","  ____formatValues = function(value, stringCompareValue, comparison) {","   try{","     const isNumberComparisons = ['isBelow', 'isAtMost', 'isAbove', 'isAtLeast'].includes(comparison);","     const isCollectionComparisons = ['isOneOf', 'notOneOf'].includes(comparison);","     let compareValue;","     switch (typeof value) {","         case 'string':","             if (isNumberComparisons) {","                 value = ____string2Number(value);","                 compareValue = ____string2Number(stringCompareValue);","             } else if (isCollectionComparisons) {","              compareValue = ____string2Array(stringCompareValue);","             }","              else {","                 compareValue = stringCompareValue;","             }","             break;","         case 'object':","             const isArray = value instanceof Array;","             if (isNumberComparisons) {","                 throw new Error('object 类型的值不能使用 ' + comparison + ' 方式比较')","             } else if (isCollectionComparisons && isArray) {","              throw new Error('array 类型的值不能使用 ' + comparison + ' 方式比较')","            } else if (","              isArray &&","              comparison === 'include' &&","              value.includes(stringCompareValue)","            ) {","              compareValue = stringCompareValue;","            } else {","              try {","                  compareValue = JSON.parse(stringCompareValue);","              } catch (e) {","                  compareValue = stringCompareValue;","              }","            }","             break;","         case 'boolean':","             if (isNumberComparisons || isCollectionComparisons) {","                 throw new Error('boolean 类型的值不能使用 ' + comparison + ' 方式比较')","             }","             compareValue = stringCompareValue === 'true' ? true : (stringCompareValue === 'false' ? false : stringCompareValue);","             break;","           case 'bigint':","           case 'number':","             if (isNumberComparisons) {","               compareValue = ____string2Number(stringCompareValue);","             } else if (isCollectionComparisons) {","              compareValue = ____string2Array(stringCompareValue);","              value = '' + value;","            } else {","               compareValue = stringCompareValue;","               value = '' + value;","             }","             break;","         case 'null':","             if (isNumberComparisons) {","                 throw new Error('null 类型的值不能使用 ' + comparison + ' 方式比较')","             }","             compareValue = stringCompareValue === 'null' ? null : stringCompareValue;","             break;","         default:","            if (isCollectionComparisons) {","              compareValue = ____string2Array(stringCompareValue);","            } else {","              compareValue = stringCompareValue;","            }","            break;","     }","     return { compareValue, value };","   } catch(e) {","     console.log(e);","     throw e;","   }"," }"," "]}},{"listen":"test","script":{"id":"postProcessors.0.assertion","type":"text/javascript","exec":["","        if (JSON.setEnableBigInt) {","          JSON.setEnableBigInt(undefined);","        }","        pm.test(pm.variables.replaceIn(`$.status_code 等于 0`), function() {","        ","          const expression = pm.variables.replaceIn(`$.status_code`);","          const JSONPath = require('jsonpath-plus').JSONPath;","          let jsonData;","          try {","            jsonData = pm.response.json();","          } catch(e) {","            let text = pm.response.text();","            const xml2js = require('xml2js');","            text = text.replace(/^[^<]*/, '').replace(/[^>]*$/, '');","            let json;","            let xmlParseOptions = {","                explicitArray: false,","                trim: true,","                ignoreAttrs: true,","            };","            xml2js.parseString(text, xmlParseOptions, function (_, result) {","                jsonData = result;","            });","          }","          let value = JSONPath({","            json: jsonData,","            path: expression,","            wrap: false","          });","","          if (false && undefined !== undefined) {","            if (Array.isArray(value)) {","              value = Number(undefined) >= 0 ? value[undefined] : value[value.length + Number(undefined)];","            } else {","              value = undefined;","            }","          }","","          ","        const formattedValues = ____formatValues(value, pm.variables.replaceIn(`0`), 'equal');","        pm.expect(formattedValues.value).to.eql(formattedValues.compareValue);","      });","      "]}}],"responseDefinition":{"id":156873477,"createdAt":"2023-02-09T15:02:44.000Z","updatedAt":"2023-02-09T15:02:44.000Z","deletedAt":null,"apiDetailId":61470228,"name":"成功","code":200,"contentType":"json","jsonSchema":{"type":"object","properties":{}},"defaultEnable":true,"projectId":2274475,"ordering":1,"schemaDefinitions":{}},"requestDefinition":{"jsonSchema":{}},"metaInfo":{"httpApiId":61470228,"httpApiCaseId":69956084,"httpApiName":"赞操作","httpApiPath":"/douyin/favorite/action","httpApiMethod":"post","httpApiCaseName":"成功点赞","id":"22d12ed8-cd26-4d11-a43c-70f9e256fc7d","type":"http"},"type":"http","protocolProfileBehavior":{"useWhatWGUrlParser":false,"disableUrlEncoding":false}},{"id":"e9a00efb-1bd2-4961-8e21-b3e89cc90c83","name":"喜欢列表(成功)","request":{"url":{"protocol":"http","port":"8080","path":["douyin","favorite","list",""],"host":["182","92","189","35"],"query":[{"disabled":false,"key":"user_id","value":"{{user_id}}"},{"disabled":false,"key":"token","value":"{{token}}"}],"variable":[]},"header":[{"key":"User-Agent","value":"Apifox/1.0.0 (https://www.apifox.cn)"}],"method":"GET","baseUrl":"http://182.92.189.35:8080","body":{},"type":"http"},"response":[],"event":[{"listen":"prerequest","script":{"id":"commonScript.assertion","type":"text/javascript","exec":["","  ____string2Array = function(value) {","    if(typeof value === 'object'){","      return value;","    }","    try {","      return JSON.parse(value);","    } catch (e) {","      return value;","    }","  }","  ____string2Number = function(value, errorMsg) {","   if(typeof value !== 'string'){","     return value;","   }","   if (/^\\-?\\d+$/.test(value)) {","       return parseInt(value);","   } else if (/^\\-?\\d+\\.\\d+$/.test(value)) {","       return parseFloat(value);","   } else {","       throw new Error(errorMsg || '数据类型不匹配')","   }"," }","","  ____formatValues = function(value, stringCompareValue, comparison) {","   try{","     const isNumberComparisons = ['isBelow', 'isAtMost', 'isAbove', 'isAtLeast'].includes(comparison);","     const isCollectionComparisons = ['isOneOf', 'notOneOf'].includes(comparison);","     let compareValue;","     switch (typeof value) {","         case 'string':","             if (isNumberComparisons) {","                 value = ____string2Number(value);","                 compareValue = ____string2Number(stringCompareValue);","             } else if (isCollectionComparisons) {","              compareValue = ____string2Array(stringCompareValue);","             }","              else {","                 compareValue = stringCompareValue;","             }","             break;","         case 'object':","             const isArray = value instanceof Array;","             if (isNumberComparisons) {","                 throw new Error('object 类型的值不能使用 ' + comparison + ' 方式比较')","             } else if (isCollectionComparisons && isArray) {","              throw new Error('array 类型的值不能使用 ' + comparison + ' 方式比较')","            } else if (","              isArray &&","              comparison === 'include' &&","              value.includes(stringCompareValue)","            ) {","              compareValue = stringCompareValue;","            } else {","              try {","                  compareValue = JSON.parse(stringCompareValue);","              } catch (e) {","                  compareValue = stringCompareValue;","              }","            }","             break;","         case 'boolean':","             if (isNumberComparisons || isCollectionComparisons) {","                 throw new Error('boolean 类型的值不能使用 ' + comparison + ' 方式比较')","             }","             compareValue = stringCompareValue === 'true' ? true : (stringCompareValue === 'false' ? false : stringCompareValue);","             break;","           case 'bigint':","           case 'number':","             if (isNumberComparisons) {","               compareValue = ____string2Number(stringCompareValue);","             } else if (isCollectionComparisons) {","              compareValue = ____string2Array(stringCompareValue);","              value = '' + value;","            } else {","               compareValue = stringCompareValue;","               value = '' + value;","             }","             break;","         case 'null':","             if (isNumberComparisons) {","                 throw new Error('null 类型的值不能使用 ' + comparison + ' 方式比较')","             }","             compareValue = stringCompareValue === 'null' ? null : stringCompareValue;","             break;","         default:","            if (isCollectionComparisons) {","              compareValue = ____string2Array(stringCompareValue);","            } else {","              compareValue = stringCompareValue;","            }","            break;","     }","     return { compareValue, value };","   } catch(e) {","     console.log(e);","     throw e;","   }"," }"," "]}},{"listen":"test","script":{"id":"postProcessors.0.assertion","type":"text/javascript","exec":["","        if (JSON.setEnableBigInt) {","          JSON.setEnableBigInt(undefined);","        }","        pm.test(pm.variables.replaceIn(`$.status_code 等于 0`), function() {","        ","          const expression = pm.variables.replaceIn(`$.status_code`);","          const JSONPath = require('jsonpath-plus').JSONPath;","          let jsonData;","          try {","            jsonData = pm.response.json();","          } catch(e) {","            let text = pm.response.text();","            const xml2js = require('xml2js');","            text = text.replace(/^[^<]*/, '').replace(/[^>]*$/, '');","            let json;","            let xmlParseOptions = {","                explicitArray: false,","                trim: true,","                ignoreAttrs: true,","            };","            xml2js.parseString(text, xmlParseOptions, function (_, result) {","                jsonData = result;","            });","          }","          let value = JSONPath({","            json: jsonData,","            path: expression,","            wrap: false","          });","","          if (false && undefined !== undefined) {","            if (Array.isArray(value)) {","              value = Number(undefined) >= 0 ? value[undefined] : value[value.length + Number(undefined)];","            } else {","              value = undefined;","            }","          }","","          ","        const formattedValues = ____formatValues(value, pm.variables.replaceIn(`0`), 'equal');","        pm.expect(formattedValues.value).to.eql(formattedValues.compareValue);","      });","      "]}}],"responseDefinition":{"id":156873692,"createdAt":"2023-02-09T15:11:30.000Z","updatedAt":"2023-02-09T15:11:48.000Z","deletedAt":null,"apiDetailId":61470348,"name":"成功","code":200,"contentType":"json","jsonSchema":{"type":"object","properties":{},"x-apifox-orders":["01GRVBPZDEX7DAVCASE1Z423GH"],"required":[],"x-apifox-refs":{"01GRVBPZDEX7DAVCASE1Z423GH":{"$ref":"#/definitions/30269323"}}},"defaultEnable":true,"projectId":2274475,"ordering":1,"schemaDefinitions":{"30269323":{"type":"object","properties":{"status_code":{"type":"integer"},"status_msg":{"type":"string"},"video_list":{"type":"array","items":{"type":"object","properties":{"id":{"type":"integer"},"author":{"type":"object","properties":{"id":{"type":"integer"},"name":{"type":"string"},"follow_count":{"type":"integer"},"follower_count":{"type":"integer"},"is_follow":{"type":"boolean"}},"required":["id","name","follow_count","follower_count","is_follow"],"x-apifox-orders":["id","name","follow_count","follower_count","is_follow"]},"play_url":{"type":"string"},"cover_url":{"type":"string"},"favorite_count":{"type":"integer"},"comment_count":{"type":"integer"},"is_favorite":{"type":"boolean"},"title":{"type":"string"}},"x-apifox-orders":["id","author","play_url","cover_url","favorite_count","comment_count","is_favorite","title"]}}},"required":["status_code","status_msg","video_list"],"x-apifox-orders":["status_code","status_msg","video_list"],"title":"FavoriteListResponse","name":"FavoriteListResponse"}}},"requestDefinition":{"jsonSchema":{}},"metaInfo":{"httpApiId":61470348,"httpApiCaseId":69956222,"httpApiName":"喜欢列表","httpApiPath":"/douyin/favorite/list/","httpApiMethod":"get","httpApiCaseName":"成功","id":"4c6e5003-e267-40bf-93c3-5351cd3ab5f6","type":"http"},"type":"http","protocolProfileBehavior":{"useWhatWGUrlParser":false,"disableUrlEncoding":false}},{"id":"4c9ea623-c14c-4555-ac0c-b45930a83ff0","name":"赞操作(取消点赞)","request":{"url":{"protocol":"http","port":"8080","path":["douyin","favorite","action"],"host":["182","92","189","35"],"query":[{"disabled":false,"key":"token","value":"{{token}}"},{"disabled":false,"key":"video_id","value":"{{video_id}}"},{"disabled":false,"key":"action_type","value":"2"}],"variable":[]},"header":[{"key":"User-Agent","value":"Apifox/1.0.0 (https://www.apifox.cn)"}],"method":"POST","baseUrl":"http://182.92.189.35:8080","body":{},"type":"http"},"response":[],"event":[{"listen":"prerequest","script":{"id":"commonScript.assertion","type":"text/javascript","exec":["","  ____string2Array = function(value) {","    if(typeof value === 'object'){","      return value;","    }","    try {","      return JSON.parse(value);","    } catch (e) {","      return value;","    }","  }","  ____string2Number = function(value, errorMsg) {","   if(typeof value !== 'string'){","     return value;","   }","   if (/^\\-?\\d+$/.test(value)) {","       return parseInt(value);","   } else if (/^\\-?\\d+\\.\\d+$/.test(value)) {","       return parseFloat(value);","   } else {","       throw new Error(errorMsg || '数据类型不匹配')","   }"," }","","  ____formatValues = function(value, stringCompareValue, comparison) {","   try{","     const isNumberComparisons = ['isBelow', 'isAtMost', 'isAbove', 'isAtLeast'].includes(comparison);","     const isCollectionComparisons = ['isOneOf', 'notOneOf'].includes(comparison);","     let compareValue;","     switch (typeof value) {","         case 'string':","             if (isNumberComparisons) {","                 value = ____string2Number(value);","                 compareValue = ____string2Number(stringCompareValue);","             } else if (isCollectionComparisons) {","              compareValue = ____string2Array(stringCompareValue);","             }","              else {","                 compareValue = stringCompareValue;","             }","             break;","         case 'object':","             const isArray = value instanceof Array;","             if (isNumberComparisons) {","                 throw new Error('object 类型的值不能使用 ' + comparison + ' 方式比较')","             } else if (isCollectionComparisons && isArray) {","              throw new Error('array 类型的值不能使用 ' + comparison + ' 方式比较')","            } else if (","              isArray &&","              comparison === 'include' &&","              value.includes(stringCompareValue)","            ) {","              compareValue = stringCompareValue;","            } else {","              try {","                  compareValue = JSON.parse(stringCompareValue);","              } catch (e) {","                  compareValue = stringCompareValue;","              }","            }","             break;","         case 'boolean':","             if (isNumberComparisons || isCollectionComparisons) {","                 throw new Error('boolean 类型的值不能使用 ' + comparison + ' 方式比较')","             }","             compareValue = stringCompareValue === 'true' ? true : (stringCompareValue === 'false' ? false : stringCompareValue);","             break;","           case 'bigint':","           case 'number':","             if (isNumberComparisons) {","               compareValue = ____string2Number(stringCompareValue);","             } else if (isCollectionComparisons) {","              compareValue = ____string2Array(stringCompareValue);","              value = '' + value;","            } else {","               compareValue = stringCompareValue;","               value = '' + value;","             }","             break;","         case 'null':","             if (isNumberComparisons) {","                 throw new Error('null 类型的值不能使用 ' + comparison + ' 方式比较')","             }","             compareValue = stringCompareValue === 'null' ? null : stringCompareValue;","             break;","         default:","            if (isCollectionComparisons) {","              compareValue = ____string2Array(stringCompareValue);","            } else {","              compareValue = stringCompareValue;","            }","            break;","     }","     return { compareValue, value };","   } catch(e) {","     console.log(e);","     throw e;","   }"," }"," "]}},{"listen":"test","script":{"id":"postProcessors.0.assertion","type":"text/javascript","exec":["","        if (JSON.setEnableBigInt) {","          JSON.setEnableBigInt(undefined);","        }","        pm.test(pm.variables.replaceIn(`$.status_code 等于 0`), function() {","        ","          const expression = pm.variables.replaceIn(`$.status_code`);","          const JSONPath = require('jsonpath-plus').JSONPath;","          let jsonData;","          try {","            jsonData = pm.response.json();","          } catch(e) {","            let text = pm.response.text();","            const xml2js = require('xml2js');","            text = text.replace(/^[^<]*/, '').replace(/[^>]*$/, '');","            let json;","            let xmlParseOptions = {","                explicitArray: false,","                trim: true,","                ignoreAttrs: true,","            };","            xml2js.parseString(text, xmlParseOptions, function (_, result) {","                jsonData = result;","            });","          }","          let value = JSONPath({","            json: jsonData,","            path: expression,","            wrap: false","          });","","          if (false && undefined !== undefined) {","            if (Array.isArray(value)) {","              value = Number(undefined) >= 0 ? value[undefined] : value[value.length + Number(undefined)];","            } else {","              value = undefined;","            }","          }","","          ","        const formattedValues = ____formatValues(value, pm.variables.replaceIn(`0`), 'equal');","        pm.expect(formattedValues.value).to.eql(formattedValues.compareValue);","      });","      "]}}],"responseDefinition":{"id":156873477,"createdAt":"2023-02-09T15:02:44.000Z","updatedAt":"2023-02-09T15:02:44.000Z","deletedAt":null,"apiDetailId":61470228,"name":"成功","code":200,"contentType":"json","jsonSchema":{"type":"object","properties":{}},"defaultEnable":true,"projectId":2274475,"ordering":1,"schemaDefinitions":{}},"requestDefinition":{"jsonSchema":{}},"metaInfo":{"httpApiId":61470228,"httpApiCaseId":69956167,"httpApiName":"赞操作","httpApiPath":"/douyin/favorite/action","httpApiMethod":"post","httpApiCaseName":"取消点赞","id":"0111aaee-4656-4d67-9b9a-cde195dbf9ad","type":"http"},"type":"http","protocolProfileBehavior":{"useWhatWGUrlParser":false,"disableUrlEncoding":false}},{"id":"d856fce9-52d1-478a-90ce-8c659d7df044","name":"喜欢列表(成功)","request":{"url":{"protocol":"http","port":"8080","path":["douyin","favorite","list",""],"host":["182","92","189","35"],"query":[{"disabled":false,"key":"user_id","value":"{{user_id}}"},{"disabled":false,"key":"token","value":"{{token}}"}],"variable":[]},"header":[{"key":"User-Agent","value":"Apifox/1.0.0 (https://www.apifox.cn)"}],"method":"GET","baseUrl":"http://182.92.189.35:8080","body":{},"type":"http"},"response":[],"event":[{"listen":"prerequest","script":{"id":"commonScript.assertion","type":"text/javascript","exec":["","  ____string2Array = function(value) {","    if(typeof value === 'object'){","      return value;","    }","    try {","      return JSON.parse(value);","    } catch (e) {","      return value;","    }","  }","  ____string2Number = function(value, errorMsg) {","   if(typeof value !== 'string'){","     return value;","   }","   if (/^\\-?\\d+$/.test(value)) {","       return parseInt(value);","   } else if (/^\\-?\\d+\\.\\d+$/.test(value)) {","       return parseFloat(value);","   } else {","       throw new Error(errorMsg || '数据类型不匹配')","   }"," }","","  ____formatValues = function(value, stringCompareValue, comparison) {","   try{","     const isNumberComparisons = ['isBelow', 'isAtMost', 'isAbove', 'isAtLeast'].includes(comparison);","     const isCollectionComparisons = ['isOneOf', 'notOneOf'].includes(comparison);","     let compareValue;","     switch (typeof value) {","         case 'string':","             if (isNumberComparisons) {","                 value = ____string2Number(value);","                 compareValue = ____string2Number(stringCompareValue);","             } else if (isCollectionComparisons) {","              compareValue = ____string2Array(stringCompareValue);","             }","              else {","                 compareValue = stringCompareValue;","             }","             break;","         case 'object':","             const isArray = value instanceof Array;","             if (isNumberComparisons) {","                 throw new Error('object 类型的值不能使用 ' + comparison + ' 方式比较')","             } else if (isCollectionComparisons && isArray) {","              throw new Error('array 类型的值不能使用 ' + comparison + ' 方式比较')","            } else if (","              isArray &&","              comparison === 'include' &&","              value.includes(stringCompareValue)","            ) {","              compareValue = stringCompareValue;","            } else {","              try {","                  compareValue = JSON.parse(stringCompareValue);","              } catch (e) {","                  compareValue = stringCompareValue;","              }","            }","             break;","         case 'boolean':","             if (isNumberComparisons || isCollectionComparisons) {","                 throw new Error('boolean 类型的值不能使用 ' + comparison + ' 方式比较')","             }","             compareValue = stringCompareValue === 'true' ? true : (stringCompareValue === 'false' ? false : stringCompareValue);","             break;","           case 'bigint':","           case 'number':","             if (isNumberComparisons) {","               compareValue = ____string2Number(stringCompareValue);","             } else if (isCollectionComparisons) {","              compareValue = ____string2Array(stringCompareValue);","              value = '' + value;","            } else {","               compareValue = stringCompareValue;","               value = '' + value;","             }","             break;","         case 'null':","             if (isNumberComparisons) {","                 throw new Error('null 类型的值不能使用 ' + comparison + ' 方式比较')","             }","             compareValue = stringCompareValue === 'null' ? null : stringCompareValue;","             break;","         default:","            if (isCollectionComparisons) {","              compareValue = ____string2Array(stringCompareValue);","            } else {","              compareValue = stringCompareValue;","            }","            break;","     }","     return { compareValue, value };","   } catch(e) {","     console.log(e);","     throw e;","   }"," }"," "]}},{"listen":"test","script":{"id":"postProcessors.0.assertion","type":"text/javascript","exec":["","        if (JSON.setEnableBigInt) {","          JSON.setEnableBigInt(undefined);","        }","        pm.test(pm.variables.replaceIn(`$.status_code 等于 0`), function() {","        ","          const expression = pm.variables.replaceIn(`$.status_code`);","          const JSONPath = require('jsonpath-plus').JSONPath;","          let jsonData;","          try {","            jsonData = pm.response.json();","          } catch(e) {","            let text = pm.response.text();","            const xml2js = require('xml2js');","            text = text.replace(/^[^<]*/, '').replace(/[^>]*$/, '');","            let json;","            let xmlParseOptions = {","                explicitArray: false,","                trim: true,","                ignoreAttrs: true,","            };","            xml2js.parseString(text, xmlParseOptions, function (_, result) {","                jsonData = result;","            });","          }","          let value = JSONPath({","            json: jsonData,","            path: expression,","            wrap: false","          });","","          if (false && undefined !== undefined) {","            if (Array.isArray(value)) {","              value = Number(undefined) >= 0 ? value[undefined] : value[value.length + Number(undefined)];","            } else {","              value = undefined;","            }","          }","","          ","        const formattedValues = ____formatValues(value, pm.variables.replaceIn(`0`), 'equal');","        pm.expect(formattedValues.value).to.eql(formattedValues.compareValue);","      });","      "]}}],"responseDefinition":{"id":156873692,"createdAt":"2023-02-09T15:11:30.000Z","updatedAt":"2023-02-09T15:11:48.000Z","deletedAt":null,"apiDetailId":61470348,"name":"成功","code":200,"contentType":"json","jsonSchema":{"type":"object","properties":{},"x-apifox-orders":["01GRVBPZDEX7DAVCASE1Z423GH"],"required":[],"x-apifox-refs":{"01GRVBPZDEX7DAVCASE1Z423GH":{"$ref":"#/definitions/30269323"}}},"defaultEnable":true,"projectId":2274475,"ordering":1,"schemaDefinitions":{"30269323":{"type":"object","properties":{"status_code":{"type":"integer"},"status_msg":{"type":"string"},"video_list":{"type":"array","items":{"type":"object","properties":{"id":{"type":"integer"},"author":{"type":"object","properties":{"id":{"type":"integer"},"name":{"type":"string"},"follow_count":{"type":"integer"},"follower_count":{"type":"integer"},"is_follow":{"type":"boolean"}},"required":["id","name","follow_count","follower_count","is_follow"],"x-apifox-orders":["id","name","follow_count","follower_count","is_follow"]},"play_url":{"type":"string"},"cover_url":{"type":"string"},"favorite_count":{"type":"integer"},"comment_count":{"type":"integer"},"is_favorite":{"type":"boolean"},"title":{"type":"string"}},"x-apifox-orders":["id","author","play_url","cover_url","favorite_count","comment_count","is_favorite","title"]}}},"required":["status_code","status_msg","video_list"],"x-apifox-orders":["status_code","status_msg","video_list"],"title":"FavoriteListResponse","name":"FavoriteListResponse"}}},"requestDefinition":{"jsonSchema":{}},"metaInfo":{"httpApiId":61470348,"httpApiCaseId":69956222,"httpApiName":"喜欢列表","httpApiPath":"/douyin/favorite/list/","httpApiMethod":"get","httpApiCaseName":"成功","id":"4034e4ea-f661-4890-8e21-a7a6ea2e7781","type":"http"},"type":"http","protocolProfileBehavior":{"useWhatWGUrlParser":false,"disableUrlEncoding":false}}],"name":"点赞操作、点赞列表"},{"item":[{"id":"b4d79569-a3f0-45d3-9368-ad69d5eb064d","name":"评论列表(成功)","request":{"url":{"protocol":"http","port":"8080","path":["douyin","comment","list",""],"host":["182","92","189","35"],"query":[{"disabled":false,"key":"token","value":"{{token}}"},{"disabled":false,"key":"video_id","value":"{{video_id}}"}],"variable":[]},"header":[{"key":"User-Agent","value":"Apifox/1.0.0 (https://www.apifox.cn)"}],"method":"GET","baseUrl":"http://182.92.189.35:8080","body":{},"type":"http"},"response":[],"event":[{"listen":"prerequest","script":{"id":"commonScript.assertion","type":"text/javascript","exec":["","  ____string2Array = function(value) {","    if(typeof value === 'object'){","      return value;","    }","    try {","      return JSON.parse(value);","    } catch (e) {","      return value;","    }","  }","  ____string2Number = function(value, errorMsg) {","   if(typeof value !== 'string'){","     return value;","   }","   if (/^\\-?\\d+$/.test(value)) {","       return parseInt(value);","   } else if (/^\\-?\\d+\\.\\d+$/.test(value)) {","       return parseFloat(value);","   } else {","       throw new Error(errorMsg || '数据类型不匹配')","   }"," }","","  ____formatValues = function(value, stringCompareValue, comparison) {","   try{","     const isNumberComparisons = ['isBelow', 'isAtMost', 'isAbove', 'isAtLeast'].includes(comparison);","     const isCollectionComparisons = ['isOneOf', 'notOneOf'].includes(comparison);","     let compareValue;","     switch (typeof value) {","         case 'string':","             if (isNumberComparisons) {","                 value = ____string2Number(value);","                 compareValue = ____string2Number(stringCompareValue);","             } else if (isCollectionComparisons) {","              compareValue = ____string2Array(stringCompareValue);","             }","              else {","                 compareValue = stringCompareValue;","             }","             break;","         case 'object':","             const isArray = value instanceof Array;","             if (isNumberComparisons) {","                 throw new Error('object 类型的值不能使用 ' + comparison + ' 方式比较')","             } else if (isCollectionComparisons && isArray) {","              throw new Error('array 类型的值不能使用 ' + comparison + ' 方式比较')","            } else if (","              isArray &&","              comparison === 'include' &&","              value.includes(stringCompareValue)","            ) {","              compareValue = stringCompareValue;","            } else {","              try {","                  compareValue = JSON.parse(stringCompareValue);","              } catch (e) {","                  compareValue = stringCompareValue;","              }","            }","             break;","         case 'boolean':","             if (isNumberComparisons || isCollectionComparisons) {","                 throw new Error('boolean 类型的值不能使用 ' + comparison + ' 方式比较')","             }","             compareValue = stringCompareValue === 'true' ? true : (stringCompareValue === 'false' ? false : stringCompareValue);","             break;","           case 'bigint':","           case 'number':","             if (isNumberComparisons) {","               compareValue = ____string2Number(stringCompareValue);","             } else if (isCollectionComparisons) {","              compareValue = ____string2Array(stringCompareValue);","              value = '' + value;","            } else {","               compareValue = stringCompareValue;","               value = '' + value;","             }","             break;","         case 'null':","             if (isNumberComparisons) {","                 throw new Error('null 类型的值不能使用 ' + comparison + ' 方式比较')","             }","             compareValue = stringCompareValue === 'null' ? null : stringCompareValue;","             break;","         default:","            if (isCollectionComparisons) {","              compareValue = ____string2Array(stringCompareValue);","            } else {","              compareValue = stringCompareValue;","            }","            break;","     }","     return { compareValue, value };","   } catch(e) {","     console.log(e);","     throw e;","   }"," }"," "]}},{"listen":"test","script":{"id":"postProcessors.0.assertion","type":"text/javascript","exec":["","        if (JSON.setEnableBigInt) {","          JSON.setEnableBigInt(undefined);","        }","        pm.test(pm.variables.replaceIn(`$.status_code 等于 0`), function() {","        ","          const expression = pm.variables.replaceIn(`$.status_code`);","          const JSONPath = require('jsonpath-plus').JSONPath;","          let jsonData;","          try {","            jsonData = pm.response.json();","          } catch(e) {","            let text = pm.response.text();","            const xml2js = require('xml2js');","            text = text.replace(/^[^<]*/, '').replace(/[^>]*$/, '');","            let json;","            let xmlParseOptions = {","                explicitArray: false,","                trim: true,","                ignoreAttrs: true,","            };","            xml2js.parseString(text, xmlParseOptions, function (_, result) {","                jsonData = result;","            });","          }","          let value = JSONPath({","            json: jsonData,","            path: expression,","            wrap: false","          });","","          if (false && undefined !== undefined) {","            if (Array.isArray(value)) {","              value = Number(undefined) >= 0 ? value[undefined] : value[value.length + Number(undefined)];","            } else {","              value = undefined;","            }","          }","","          ","        const formattedValues = ____formatValues(value, pm.variables.replaceIn(`0`), 'equal');","        pm.expect(formattedValues.value).to.eql(formattedValues.compareValue);","      });","      "]}}],"responseDefinition":{"id":156874753,"createdAt":"2023-02-09T15:49:39.000Z","updatedAt":"2023-02-09T15:49:39.000Z","deletedAt":null,"apiDetailId":61470900,"name":"成功","code":200,"contentType":"json","jsonSchema":{"type":"object","properties":{}},"defaultEnable":true,"projectId":2274475,"ordering":1,"schemaDefinitions":{}},"requestDefinition":{"jsonSchema":{}},"metaInfo":{"httpApiId":61470900,"httpApiCaseId":69956801,"httpApiName":"评论列表","httpApiPath":"/douyin/comment/list/","httpApiMethod":"get","httpApiCaseName":"成功","id":"b673cf44-4567-422a-a7d2-ef1cd96e323d","type":"http"},"type":"http","protocolProfileBehavior":{"useWhatWGUrlParser":false,"disableUrlEncoding":false}},{"id":"61224ff0-ce22-4883-9c97-a72c89c2050a","name":"评论操作(添加评论)","request":{"url":{"protocol":"http","port":"8080","path":["douyin","comment","action",""],"host":["182","92","189","35"],"query":[{"disabled":false,"key":"token","value":"{{token}}"},{"disabled":false,"key":"video_id","value":"{{video_id}}"},{"disabled":false,"key":"action_type","value":"1"},{"disabled":false,"key":"comment_text","value":"{% mock 'sentence' %}"}],"variable":[]},"header":[{"key":"User-Agent","value":"Apifox/1.0.0 (https://www.apifox.cn)"}],"method":"POST","baseUrl":"http://182.92.189.35:8080","body":{},"type":"http"},"response":[],"event":[{"listen":"prerequest","script":{"id":"commonScript.assertion","type":"text/javascript","exec":["","  ____string2Array = function(value) {","    if(typeof value === 'object'){","      return value;","    }","    try {","      return JSON.parse(value);","    } catch (e) {","      return value;","    }","  }","  ____string2Number = function(value, errorMsg) {","   if(typeof value !== 'string'){","     return value;","   }","   if (/^\\-?\\d+$/.test(value)) {","       return parseInt(value);","   } else if (/^\\-?\\d+\\.\\d+$/.test(value)) {","       return parseFloat(value);","   } else {","       throw new Error(errorMsg || '数据类型不匹配')","   }"," }","","  ____formatValues = function(value, stringCompareValue, comparison) {","   try{","     const isNumberComparisons = ['isBelow', 'isAtMost', 'isAbove', 'isAtLeast'].includes(comparison);","     const isCollectionComparisons = ['isOneOf', 'notOneOf'].includes(comparison);","     let compareValue;","     switch (typeof value) {","         case 'string':","             if (isNumberComparisons) {","                 value = ____string2Number(value);","                 compareValue = ____string2Number(stringCompareValue);","             } else if (isCollectionComparisons) {","              compareValue = ____string2Array(stringCompareValue);","             }","              else {","                 compareValue = stringCompareValue;","             }","             break;","         case 'object':","             const isArray = value instanceof Array;","             if (isNumberComparisons) {","                 throw new Error('object 类型的值不能使用 ' + comparison + ' 方式比较')","             } else if (isCollectionComparisons && isArray) {","              throw new Error('array 类型的值不能使用 ' + comparison + ' 方式比较')","            } else if (","              isArray &&","              comparison === 'include' &&","              value.includes(stringCompareValue)","            ) {","              compareValue = stringCompareValue;","            } else {","              try {","                  compareValue = JSON.parse(stringCompareValue);","              } catch (e) {","                  compareValue = stringCompareValue;","              }","            }","             break;","         case 'boolean':","             if (isNumberComparisons || isCollectionComparisons) {","                 throw new Error('boolean 类型的值不能使用 ' + comparison + ' 方式比较')","             }","             compareValue = stringCompareValue === 'true' ? true : (stringCompareValue === 'false' ? false : stringCompareValue);","             break;","           case 'bigint':","           case 'number':","             if (isNumberComparisons) {","               compareValue = ____string2Number(stringCompareValue);","             } else if (isCollectionComparisons) {","              compareValue = ____string2Array(stringCompareValue);","              value = '' + value;","            } else {","               compareValue = stringCompareValue;","               value = '' + value;","             }","             break;","         case 'null':","             if (isNumberComparisons) {","                 throw new Error('null 类型的值不能使用 ' + comparison + ' 方式比较')","             }","             compareValue = stringCompareValue === 'null' ? null : stringCompareValue;","             break;","         default:","            if (isCollectionComparisons) {","              compareValue = ____string2Array(stringCompareValue);","            } else {","              compareValue = stringCompareValue;","            }","            break;","     }","     return { compareValue, value };","   } catch(e) {","     console.log(e);","     throw e;","   }"," }"," "]}},{"listen":"test","script":{"id":"postProcessors.0.extractor","type":"text/javascript","exec":["","        if (JSON.setEnableBigInt) {","          JSON.setEnableBigInt(undefined);","        }","        ","      try{","        ","          const expression = pm.variables.replaceIn(`$.comment.id`);","          const JSONPath = require('jsonpath-plus').JSONPath;","          const jsonData = pm.response.json();","          let value = JSONPath({","            json: jsonData,","            path: expression,","            wrap: false","          });","","          ","          if (false && undefined !== undefined) {","            if (Array.isArray(value)) {","              value = Number(undefined) >= 0 ? value[undefined] : value[value.length + Number(undefined)];","            } else {","              value = undefined;","            }","          }","          ","        ","        switch (typeof value) {","          case 'object':","            value = JSON.stringify(value);","            break;","          default:","            value = String(value);","            break;","        }","      ","        pm.environment.set(`comment_id`, value);console.log('已设置环境变量【comment_id】，值为 【' + value + '】')","      } catch(e) {","        e.message = '提取变量【comment_id】出错: ' + e.message;","        throw e;","      }","  ","      "]}},{"listen":"test","script":{"id":"postProcessors.1.assertion","type":"text/javascript","exec":["","        if (JSON.setEnableBigInt) {","          JSON.setEnableBigInt(undefined);","        }","        pm.test(pm.variables.replaceIn(`$.status_code 等于 0`), function() {","        ","          const expression = pm.variables.replaceIn(`$.status_code`);","          const JSONPath = require('jsonpath-plus').JSONPath;","          let jsonData;","          try {","            jsonData = pm.response.json();","          } catch(e) {","            let text = pm.response.text();","            const xml2js = require('xml2js');","            text = text.replace(/^[^<]*/, '').replace(/[^>]*$/, '');","            let json;","            let xmlParseOptions = {","                explicitArray: false,","                trim: true,","                ignoreAttrs: true,","            };","            xml2js.parseString(text, xmlParseOptions, function (_, result) {","                jsonData = result;","            });","          }","          let value = JSONPath({","            json: jsonData,","            path: expression,","            wrap: false","          });","","          if (false && undefined !== undefined) {","            if (Array.isArray(value)) {","              value = Number(undefined) >= 0 ? value[undefined] : value[value.length + Number(undefined)];","            } else {","              value = undefined;","            }","          }","","          ","        const formattedValues = ____formatValues(value, pm.variables.replaceIn(`0`), 'equal');","        pm.expect(formattedValues.value).to.eql(formattedValues.compareValue);","      });","      "]}}],"responseDefinition":{"id":156874138,"createdAt":"2023-02-09T15:16:43.000Z","updatedAt":"2023-02-09T15:21:38.000Z","deletedAt":null,"apiDetailId":61470482,"name":"成功","code":200,"contentType":"json","jsonSchema":{"type":"object","properties":{"status_code":{"type":"integer"},"status_msg":{"type":"string"}},"x-apifox-orders":["status_code","status_msg"],"x-apifox-refs":{},"required":["status_code","status_msg"]},"defaultEnable":true,"projectId":2274475,"ordering":1,"schemaDefinitions":{}},"requestDefinition":{"jsonSchema":{}},"metaInfo":{"httpApiId":61470482,"httpApiCaseId":69956359,"httpApiName":"评论操作","httpApiPath":"/douyin/comment/action/","httpApiMethod":"post","httpApiCaseName":"添加评论","id":"02a1e53f-1477-435c-a8cf-28c02f4ec1bb","type":"http"},"type":"http","protocolProfileBehavior":{"useWhatWGUrlParser":false,"disableUrlEncoding":false}},{"id":"f0f570f4-8d88-4c9a-9345-16d80f3bd3e9","name":"评论列表(成功)","request":{"url":{"protocol":"http","port":"8080","path":["douyin","comment","list",""],"host":["182","92","189","35"],"query":[{"disabled":false,"key":"token","value":"{{token}}"},{"disabled":false,"key":"video_id","value":"{{video_id}}"}],"variable":[]},"header":[{"key":"User-Agent","value":"Apifox/1.0.0 (https://www.apifox.cn)"}],"method":"GET","baseUrl":"http://182.92.189.35:8080","body":{},"type":"http"},"response":[],"event":[{"listen":"prerequest","script":{"id":"commonScript.assertion","type":"text/javascript","exec":["","  ____string2Array = function(value) {","    if(typeof value === 'object'){","      return value;","    }","    try {","      return JSON.parse(value);","    } catch (e) {","      return value;","    }","  }","  ____string2Number = function(value, errorMsg) {","   if(typeof value !== 'string'){","     return value;","   }","   if (/^\\-?\\d+$/.test(value)) {","       return parseInt(value);","   } else if (/^\\-?\\d+\\.\\d+$/.test(value)) {","       return parseFloat(value);","   } else {","       throw new Error(errorMsg || '数据类型不匹配')","   }"," }","","  ____formatValues = function(value, stringCompareValue, comparison) {","   try{","     const isNumberComparisons = ['isBelow', 'isAtMost', 'isAbove', 'isAtLeast'].includes(comparison);","     const isCollectionComparisons = ['isOneOf', 'notOneOf'].includes(comparison);","     let compareValue;","     switch (typeof value) {","         case 'string':","             if (isNumberComparisons) {","                 value = ____string2Number(value);","                 compareValue = ____string2Number(stringCompareValue);","             } else if (isCollectionComparisons) {","              compareValue = ____string2Array(stringCompareValue);","             }","              else {","                 compareValue = stringCompareValue;","             }","             break;","         case 'object':","             const isArray = value instanceof Array;","             if (isNumberComparisons) {","                 throw new Error('object 类型的值不能使用 ' + comparison + ' 方式比较')","             } else if (isCollectionComparisons && isArray) {","              throw new Error('array 类型的值不能使用 ' + comparison + ' 方式比较')","            } else if (","              isArray &&","              comparison === 'include' &&","              value.includes(stringCompareValue)","            ) {","              compareValue = stringCompareValue;","            } else {","              try {","                  compareValue = JSON.parse(stringCompareValue);","              } catch (e) {","                  compareValue = stringCompareValue;","              }","            }","             break;","         case 'boolean':","             if (isNumberComparisons || isCollectionComparisons) {","                 throw new Error('boolean 类型的值不能使用 ' + comparison + ' 方式比较')","             }","             compareValue = stringCompareValue === 'true' ? true : (stringCompareValue === 'false' ? false : stringCompareValue);","             break;","           case 'bigint':","           case 'number':","             if (isNumberComparisons) {","               compareValue = ____string2Number(stringCompareValue);","             } else if (isCollectionComparisons) {","              compareValue = ____string2Array(stringCompareValue);","              value = '' + value;","            } else {","               compareValue = stringCompareValue;","               value = '' + value;","             }","             break;","         case 'null':","             if (isNumberComparisons) {","                 throw new Error('null 类型的值不能使用 ' + comparison + ' 方式比较')","             }","             compareValue = stringCompareValue === 'null' ? null : stringCompareValue;","             break;","         default:","            if (isCollectionComparisons) {","              compareValue = ____string2Array(stringCompareValue);","            } else {","              compareValue = stringCompareValue;","            }","            break;","     }","     return { compareValue, value };","   } catch(e) {","     console.log(e);","     throw e;","   }"," }"," "]}},{"listen":"test","script":{"id":"postProcessors.0.assertion","type":"text/javascript","exec":["","        if (JSON.setEnableBigInt) {","          JSON.setEnableBigInt(undefined);","        }","        pm.test(pm.variables.replaceIn(`$.status_code 等于 0`), function() {","        ","          const expression = pm.variables.replaceIn(`$.status_code`);","          const JSONPath = require('jsonpath-plus').JSONPath;","          let jsonData;","          try {","            jsonData = pm.response.json();","          } catch(e) {","            let text = pm.response.text();","            const xml2js = require('xml2js');","            text = text.replace(/^[^<]*/, '').replace(/[^>]*$/, '');","            let json;","            let xmlParseOptions = {","                explicitArray: false,","                trim: true,","                ignoreAttrs: true,","            };","            xml2js.parseString(text, xmlParseOptions, function (_, result) {","                jsonData = result;","            });","          }","          let value = JSONPath({","            json: jsonData,","            path: expression,","            wrap: false","          });","","          if (false && undefined !== undefined) {","            if (Array.isArray(value)) {","              value = Number(undefined) >= 0 ? value[undefined] : value[value.length + Number(undefined)];","            } else {","              value = undefined;","            }","          }","","          ","        const formattedValues = ____formatValues(value, pm.variables.replaceIn(`0`), 'equal');","        pm.expect(formattedValues.value).to.eql(formattedValues.compareValue);","      });","      "]}}],"responseDefinition":{"id":156874753,"createdAt":"2023-02-09T15:49:39.000Z","updatedAt":"2023-02-09T15:49:39.000Z","deletedAt":null,"apiDetailId":61470900,"name":"成功","code":200,"contentType":"json","jsonSchema":{"type":"object","properties":{}},"defaultEnable":true,"projectId":2274475,"ordering":1,"schemaDefinitions":{}},"requestDefinition":{"jsonSchema":{}},"metaInfo":{"httpApiId":61470900,"httpApiCaseId":69956801,"httpApiName":"评论列表","httpApiPath":"/douyin/comment/list/","httpApiMethod":"get","httpApiCaseName":"成功","id":"1f9df28b-7d0d-4f46-9266-e8d6628d1a12","type":"http"},"type":"http","protocolProfileBehavior":{"useWhatWGUrlParser":false,"disableUrlEncoding":false}},{"id":"64f43e85-b231-46ae-8a72-8a6f88b63766","name":"评论操作(删除评论)","request":{"url":{"protocol":"http","port":"8080","path":["douyin","comment","action",""],"host":["182","92","189","35"],"query":[{"disabled":false,"key":"token","value":"{{token}}"},{"disabled":false,"key":"video_id","value":"{{video_id}}"},{"disabled":false,"key":"action_type","value":"2"},{"disabled":false,"key":"comment_id","value":"{{comment_id}}"}],"variable":[]},"header":[{"key":"User-Agent","value":"Apifox/1.0.0 (https://www.apifox.cn)"}],"method":"POST","baseUrl":"http://182.92.189.35:8080","body":{},"type":"http"},"response":[],"event":[{"listen":"prerequest","script":{"id":"commonScript.assertion","type":"text/javascript","exec":["","  ____string2Array = function(value) {","    if(typeof value === 'object'){","      return value;","    }","    try {","      return JSON.parse(value);","    } catch (e) {","      return value;","    }","  }","  ____string2Number = function(value, errorMsg) {","   if(typeof value !== 'string'){","     return value;","   }","   if (/^\\-?\\d+$/.test(value)) {","       return parseInt(value);","   } else if (/^\\-?\\d+\\.\\d+$/.test(value)) {","       return parseFloat(value);","   } else {","       throw new Error(errorMsg || '数据类型不匹配')","   }"," }","","  ____formatValues = function(value, stringCompareValue, comparison) {","   try{","     const isNumberComparisons = ['isBelow', 'isAtMost', 'isAbove', 'isAtLeast'].includes(comparison);","     const isCollectionComparisons = ['isOneOf', 'notOneOf'].includes(comparison);","     let compareValue;","     switch (typeof value) {","         case 'string':","             if (isNumberComparisons) {","                 value = ____string2Number(value);","                 compareValue = ____string2Number(stringCompareValue);","             } else if (isCollectionComparisons) {","              compareValue = ____string2Array(stringCompareValue);","             }","              else {","                 compareValue = stringCompareValue;","             }","             break;","         case 'object':","             const isArray = value instanceof Array;","             if (isNumberComparisons) {","                 throw new Error('object 类型的值不能使用 ' + comparison + ' 方式比较')","             } else if (isCollectionComparisons && isArray) {","              throw new Error('array 类型的值不能使用 ' + comparison + ' 方式比较')","            } else if (","              isArray &&","              comparison === 'include' &&","              value.includes(stringCompareValue)","            ) {","              compareValue = stringCompareValue;","            } else {","              try {","                  compareValue = JSON.parse(stringCompareValue);","              } catch (e) {","                  compareValue = stringCompareValue;","              }","            }","             break;","         case 'boolean':","             if (isNumberComparisons || isCollectionComparisons) {","                 throw new Error('boolean 类型的值不能使用 ' + comparison + ' 方式比较')","             }","             compareValue = stringCompareValue === 'true' ? true : (stringCompareValue === 'false' ? false : stringCompareValue);","             break;","           case 'bigint':","           case 'number':","             if (isNumberComparisons) {","               compareValue = ____string2Number(stringCompareValue);","             } else if (isCollectionComparisons) {","              compareValue = ____string2Array(stringCompareValue);","              value = '' + value;","            } else {","               compareValue = stringCompareValue;","               value = '' + value;","             }","             break;","         case 'null':","             if (isNumberComparisons) {","                 throw new Error('null 类型的值不能使用 ' + comparison + ' 方式比较')","             }","             compareValue = stringCompareValue === 'null' ? null : stringCompareValue;","             break;","         default:","            if (isCollectionComparisons) {","              compareValue = ____string2Array(stringCompareValue);","            } else {","              compareValue = stringCompareValue;","            }","            break;","     }","     return { compareValue, value };","   } catch(e) {","     console.log(e);","     throw e;","   }"," }"," "]}},{"listen":"test","script":{"id":"postProcessors.0.assertion","type":"text/javascript","exec":["","        if (JSON.setEnableBigInt) {","          JSON.setEnableBigInt(undefined);","        }","        pm.test(pm.variables.replaceIn(`$.status_code 等于 0`), function() {","        ","          const expression = pm.variables.replaceIn(`$.status_code`);","          const JSONPath = require('jsonpath-plus').JSONPath;","          let jsonData;","          try {","            jsonData = pm.response.json();","          } catch(e) {","            let text = pm.response.text();","            const xml2js = require('xml2js');","            text = text.replace(/^[^<]*/, '').replace(/[^>]*$/, '');","            let json;","            let xmlParseOptions = {","                explicitArray: false,","                trim: true,","                ignoreAttrs: true,","            };","            xml2js.parseString(text, xmlParseOptions, function (_, result) {","                jsonData = result;","            });","          }","          let value = JSONPath({","            json: jsonData,","            path: expression,","            wrap: false","          });","","          if (false && undefined !== undefined) {","            if (Array.isArray(value)) {","              value = Number(undefined) >= 0 ? value[undefined] : value[value.length + Number(undefined)];","            } else {","              value = undefined;","            }","          }","","          ","        const formattedValues = ____formatValues(value, pm.variables.replaceIn(`0`), 'equal');","        pm.expect(formattedValues.value).to.eql(formattedValues.compareValue);","      });","      "]}}],"responseDefinition":{"id":156874138,"createdAt":"2023-02-09T15:16:43.000Z","updatedAt":"2023-02-09T15:21:38.000Z","deletedAt":null,"apiDetailId":61470482,"name":"成功","code":200,"contentType":"json","jsonSchema":{"type":"object","properties":{"status_code":{"type":"integer"},"status_msg":{"type":"string"}},"x-apifox-orders":["status_code","status_msg"],"x-apifox-refs":{},"required":["status_code","status_msg"]},"defaultEnable":true,"projectId":2274475,"ordering":1,"schemaDefinitions":{}},"requestDefinition":{"jsonSchema":{}},"metaInfo":{"httpApiId":61470482,"httpApiCaseId":69956417,"httpApiName":"评论操作","httpApiPath":"/douyin/comment/action/","httpApiMethod":"post","httpApiCaseName":"删除评论","id":"3c3580ed-2bf4-4f97-b5d0-27b2ccf98a93","type":"http"},"type":"http","protocolProfileBehavior":{"useWhatWGUrlParser":false,"disableUrlEncoding":false}},{"id":"7c5039ea-3c32-4b8d-8e46-454a89c34deb","name":"评论列表(成功)","request":{"url":{"protocol":"http","port":"8080","path":["douyin","comment","list",""],"host":["182","92","189","35"],"query":[{"disabled":false,"key":"token","value":"{{token}}"},{"disabled":false,"key":"video_id","value":"{{video_id}}"}],"variable":[]},"header":[{"key":"User-Agent","value":"Apifox/1.0.0 (https://www.apifox.cn)"}],"method":"GET","baseUrl":"http://182.92.189.35:8080","body":{},"type":"http"},"response":[],"event":[{"listen":"prerequest","script":{"id":"commonScript.assertion","type":"text/javascript","exec":["","  ____string2Array = function(value) {","    if(typeof value === 'object'){","      return value;","    }","    try {","      return JSON.parse(value);","    } catch (e) {","      return value;","    }","  }","  ____string2Number = function(value, errorMsg) {","   if(typeof value !== 'string'){","     return value;","   }","   if (/^\\-?\\d+$/.test(value)) {","       return parseInt(value);","   } else if (/^\\-?\\d+\\.\\d+$/.test(value)) {","       return parseFloat(value);","   } else {","       throw new Error(errorMsg || '数据类型不匹配')","   }"," }","","  ____formatValues = function(value, stringCompareValue, comparison) {","   try{","     const isNumberComparisons = ['isBelow', 'isAtMost', 'isAbove', 'isAtLeast'].includes(comparison);","     const isCollectionComparisons = ['isOneOf', 'notOneOf'].includes(comparison);","     let compareValue;","     switch (typeof value) {","         case 'string':","             if (isNumberComparisons) {","                 value = ____string2Number(value);","                 compareValue = ____string2Number(stringCompareValue);","             } else if (isCollectionComparisons) {","              compareValue = ____string2Array(stringCompareValue);","             }","              else {","                 compareValue = stringCompareValue;","             }","             break;","         case 'object':","             const isArray = value instanceof Array;","             if (isNumberComparisons) {","                 throw new Error('object 类型的值不能使用 ' + comparison + ' 方式比较')","             } else if (isCollectionComparisons && isArray) {","              throw new Error('array 类型的值不能使用 ' + comparison + ' 方式比较')","            } else if (","              isArray &&","              comparison === 'include' &&","              value.includes(stringCompareValue)","            ) {","              compareValue = stringCompareValue;","            } else {","              try {","                  compareValue = JSON.parse(stringCompareValue);","              } catch (e) {","                  compareValue = stringCompareValue;","              }","            }","             break;","         case 'boolean':","             if (isNumberComparisons || isCollectionComparisons) {","                 throw new Error('boolean 类型的值不能使用 ' + comparison + ' 方式比较')","             }","             compareValue = stringCompareValue === 'true' ? true : (stringCompareValue === 'false' ? false : stringCompareValue);","             break;","           case 'bigint':","           case 'number':","             if (isNumberComparisons) {","               compareValue = ____string2Number(stringCompareValue);","             } else if (isCollectionComparisons) {","              compareValue = ____string2Array(stringCompareValue);","              value = '' + value;","            } else {","               compareValue = stringCompareValue;","               value = '' + value;","             }","             break;","         case 'null':","             if (isNumberComparisons) {","                 throw new Error('null 类型的值不能使用 ' + comparison + ' 方式比较')","             }","             compareValue = stringCompareValue === 'null' ? null : stringCompareValue;","             break;","         default:","            if (isCollectionComparisons) {","              compareValue = ____string2Array(stringCompareValue);","            } else {","              compareValue = stringCompareValue;","            }","            break;","     }","     return { compareValue, value };","   } catch(e) {","     console.log(e);","     throw e;","   }"," }"," "]}},{"listen":"test","script":{"id":"postProcessors.0.assertion","type":"text/javascript","exec":["","        if (JSON.setEnableBigInt) {","          JSON.setEnableBigInt(undefined);","        }","        pm.test(pm.variables.replaceIn(`$.status_code 等于 0`), function() {","        ","          const expression = pm.variables.replaceIn(`$.status_code`);","          const JSONPath = require('jsonpath-plus').JSONPath;","          let jsonData;","          try {","            jsonData = pm.response.json();","          } catch(e) {","            let text = pm.response.text();","            const xml2js = require('xml2js');","            text = text.replace(/^[^<]*/, '').replace(/[^>]*$/, '');","            let json;","            let xmlParseOptions = {","                explicitArray: false,","                trim: true,","                ignoreAttrs: true,","            };","            xml2js.parseString(text, xmlParseOptions, function (_, result) {","                jsonData = result;","            });","          }","          let value = JSONPath({","            json: jsonData,","            path: expression,","            wrap: false","          });","","          if (false && undefined !== undefined) {","            if (Array.isArray(value)) {","              value = Number(undefined) >= 0 ? value[undefined] : value[value.length + Number(undefined)];","            } else {","              value = undefined;","            }","          }","","          ","        const formattedValues = ____formatValues(value, pm.variables.replaceIn(`0`), 'equal');","        pm.expect(formattedValues.value).to.eql(formattedValues.compareValue);","      });","      "]}}],"responseDefinition":{"id":156874753,"createdAt":"2023-02-09T15:49:39.000Z","updatedAt":"2023-02-09T15:49:39.000Z","deletedAt":null,"apiDetailId":61470900,"name":"成功","code":200,"contentType":"json","jsonSchema":{"type":"object","properties":{}},"defaultEnable":true,"projectId":2274475,"ordering":1,"schemaDefinitions":{}},"requestDefinition":{"jsonSchema":{}},"metaInfo":{"httpApiId":61470900,"httpApiCaseId":69956801,"httpApiName":"评论列表","httpApiPath":"/douyin/comment/list/","httpApiMethod":"get","httpApiCaseName":"成功","id":"761d977b-9278-463a-9935-2e136563994b","type":"http"},"type":"http","protocolProfileBehavior":{"useWhatWGUrlParser":false,"disableUrlEncoding":false}}],"name":"评论操作、评论列表"}],"info":{"name":"mini-tiktok-backend"},"dataSchemas":{"30269258":{"type":"object","properties":{"status_code":{"type":"integer"},"status_msg":{"type":"string"}},"required":["status_code","status_msg"],"x-apifox-orders":["status_code","status_msg"],"title":"PublishActionResponse","name":"PublishActionResponse"},"30269262":{"type":"object","properties":{"status_code":{"type":"integer"},"status_msg":{"type":"string"},"video_list":{"type":"array","items":{"type":"object","properties":{"id":{"type":"integer"},"author":{"type":"object","properties":{"id":{"type":"integer"},"name":{"type":"string"},"follow_count":{"type":"integer"},"follower_count":{"type":"integer"},"is_follow":{"type":"boolean"}},"required":["id","name","follow_count","follower_count","is_follow"],"x-apifox-orders":["id","name","follow_count","follower_count","is_follow"]},"play_url":{"type":"string"},"cover_url":{"type":"string"},"favorite_count":{"type":"integer"},"comment_count":{"type":"integer"},"is_favorite":{"type":"boolean"},"title":{"type":"string"}},"x-apifox-orders":["id","author","play_url","cover_url","favorite_count","comment_count","is_favorite","title"]}}},"required":["status_code","status_msg","video_list"],"x-apifox-orders":["status_code","status_msg","video_list"],"title":"PublishListResponse","name":"PublishListResponse"},"30269265":{"type":"object","properties":{"status_code":{"type":"integer"},"status_msg":{"type":"string"},"next_time":{"type":"integer"},"video_list":{"type":"array","items":{"type":"object","properties":{"id":{"type":"integer"},"author":{"type":"object","properties":{"id":{"type":"integer"},"name":{"type":"string"},"follow_count":{"type":"integer"},"follower_count":{"type":"integer"},"is_follow":{"type":"boolean"}},"required":["id","name","follow_count","follower_count","is_follow"],"x-apifox-orders":["id","name","follow_count","follower_count","is_follow"]},"play_url":{"type":"string"},"cover_url":{"type":"string"},"favorite_count":{"type":"integer"},"comment_count":{"type":"integer"},"is_favorite":{"type":"boolean"},"title":{"type":"string"}},"x-apifox-orders":["id","author","play_url","cover_url","favorite_count","comment_count","is_favorite","title"]}}},"required":["status_code","status_msg","next_time","video_list"],"x-apifox-orders":["status_code","status_msg","next_time","video_list"],"title":"FeedResponse","name":"FeedResponse"},"30269323":{"type":"object","properties":{"status_code":{"type":"integer"},"status_msg":{"type":"string"},"video_list":{"type":"array","items":{"type":"object","properties":{"id":{"type":"integer"},"author":{"type":"object","properties":{"id":{"type":"integer"},"name":{"type":"string"},"follow_count":{"type":"integer"},"follower_count":{"type":"integer"},"is_follow":{"type":"boolean"}},"required":["id","name","follow_count","follower_count","is_follow"],"x-apifox-orders":["id","name","follow_count","follower_count","is_follow"]},"play_url":{"type":"string"},"cover_url":{"type":"string"},"favorite_count":{"type":"integer"},"comment_count":{"type":"integer"},"is_favorite":{"type":"boolean"},"title":{"type":"string"}},"x-apifox-orders":["id","author","play_url","cover_url","favorite_count","comment_count","is_favorite","title"]}}},"required":["status_code","status_msg","video_list"],"x-apifox-orders":["status_code","status_msg","video_list"],"title":"FavoriteListResponse","name":"FavoriteListResponse"}},"environment":{"id":8819035,"name":"正式环境","baseUrl":"http://182.92.189.35:8080","baseUrls":{"default":"http://182.92.189.35:8080"},"variable":{"id":"323165be-4706-4a5a-88ea-bbf43ddff4d3","name":"正式环境","baseUrl":"http://182.92.189.35:8080","baseUrls":{"default":"http://182.92.189.35:8080"},"values":[{"type":"any","value":"pp","key":"username","initialValue":"pp"},{"type":"any","value":"skdfnimfpmnxbcefjpwtilvlbxnwfsu","key":"password","initialValue":"skdfnimfpmnxbcefjpwtilvlbxnwfsu"},{"type":"any","value":"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJleHAiOjE2NzU5NTg3NDYsIm9yaWdfaWF0IjoxNjc1OTU1MTQ2LCJ1c2VyX2lkIjo0Nn0.VQju0vVYJ68OZh02mBCk8z-Q3N3Jcz9-nEpQWQCuqew","key":"token","initialValue":"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJleHAiOjE2NzU5NTg3NDYsIm9yaWdfaWF0IjoxNjc1OTU1MTQ2LCJ1c2VyX2lkIjo0Nn0.VQju0vVYJ68OZh02mBCk8z-Q3N3Jcz9-nEpQWQCuqew"},{"type":"any","value":"15","key":"video_id","initialValue":"15"},{"type":"any","value":"46","key":"user_id","initialValue":"46"},{"type":"any","value":"3","key":"comment_id","initialValue":"3"}]},"type":"normal","parameter":{"header":[],"query":[],"body":[],"cookie":[]}},"globals":{"baseUrl":"","baseUrls":{},"variable":{"id":"af779bfc-dcde-4fc8-9c81-4d5c969d6ece","baseUrl":"","baseUrls":{},"values":[]},"parameter":{"header":[],"query":[],"body":[],"cookie":[]}},"isServerBuild":false}